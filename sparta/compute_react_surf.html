

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>compute react/surf command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020  (build: 08/07/2020)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
  <a href= "genindex.html">Index</a>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>compute react/surf command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/compute_react_surf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compute-react-surf-command">
<span id="command-compute-react-surf"></span><span id="index-0"></span><h1>compute react/surf command<a class="headerlink" href="#compute-react-surf-command" title="Permalink to this headline">¶</a></h1>
<div class="section" id="syntax">
<h2>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="n">ID</span> <span class="n">react</span><span class="o">/</span><span class="n">surf</span> <span class="n">group</span><span class="o">-</span><span class="n">ID</span> <span class="n">reaction</span><span class="o">-</span><span class="n">ID</span> <span class="n">value1</span> <span class="n">value2</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>ID is documented in <a class="reference internal" href="compute.html#command-compute"><span class="std std-ref">compute command</span></a></p></li>
<li><p>react/surf = style name of this compute command</p></li>
<li><p>group-ID = group ID for which surface elements to perform calculation
on</p></li>
<li><p>reaction-ID = surface reaction ID which defines surface reactions</p></li>
<li><p>zero or more values can be appended</p></li>
<li><p>value = <em>r:s1/s2/s3 …</em> or <em>p:s1/s2/s3 …</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span><span class="p">:</span> <span class="ow">or</span> <span class="n">p</span><span class="p">:</span> <span class="o">=</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">reactant</span> <span class="n">species</span> <span class="ow">or</span> <span class="n">product</span> <span class="n">species</span>
<span class="n">s1</span><span class="p">,</span><span class="n">s2</span><span class="p">,</span><span class="n">s3</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">species</span> <span class="n">IDs</span><span class="p">,</span> <span class="n">separated</span> <span class="n">by</span> <span class="s2">&quot;/&quot;</span> <span class="n">character</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surf_react</span> <span class="n">air</span> <span class="n">prob</span> <span class="n">air</span><span class="o">.</span><span class="n">surf</span>
<span class="n">compute</span> <span class="mi">1</span> <span class="n">react</span><span class="o">/</span><span class="n">surf</span> <span class="nb">all</span> <span class="n">air</span>
<span class="n">compute</span> <span class="mi">2</span> <span class="n">react</span><span class="o">/</span><span class="n">surf</span> <span class="nb">all</span> <span class="n">air</span> <span class="n">r</span><span class="p">:</span><span class="n">N</span><span class="o">/</span><span class="n">O</span><span class="o">/</span><span class="n">N2</span><span class="o">/</span><span class="n">O2</span> <span class="n">p</span><span class="p">:</span><span class="n">N</span><span class="o">/</span><span class="n">O</span><span class="o">/</span><span class="n">NO</span>
</pre></div>
</div>
<p>These commands will dump time averages for each surface element to a
dump file every 1000 steps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="mi">2</span> <span class="n">react</span><span class="o">/</span><span class="n">surf</span> <span class="nb">all</span> <span class="n">air</span> <span class="n">r</span><span class="p">:</span><span class="n">N</span><span class="o">/</span><span class="n">O</span><span class="o">/</span><span class="n">N2</span><span class="o">/</span><span class="n">O2</span> <span class="n">p</span><span class="p">:</span><span class="n">N</span><span class="o">/</span><span class="n">O</span><span class="o">/</span><span class="n">NO</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">surf</span> <span class="nb">all</span> <span class="mi">10</span> <span class="mi">100</span> <span class="mi">1000</span> <span class="n">c_2</span><span class="p">[</span><span class="o">*</span><span class="p">]</span>
<span class="n">dump</span> <span class="mi">1</span> <span class="n">surf</span> <span class="nb">all</span> <span class="mi">1000</span> <span class="n">tmp</span><span class="o">.</span><span class="n">surf</span> <span class="nb">id</span> <span class="n">f_1</span><span class="p">[</span><span class="o">*</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description:<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Define a computation that tallies counts of reactions for each explicit surface element in a surface element group, based on the particles that collide with that element. Only surface elements in the surface group specified by <em>group-ID</em> are included in the tallying. See the <a class="reference internal" href="group.html#command-group"><span class="std std-ref">group surf</span></a> for info on how surface elements can be assigned to surface groups. Likewise only surface elements assigned to the surface reaction model specified by <em>reaction-ID</em> are included in the tallying.</p>
<p>Explicit surface elements are triangles for 3d simulations and line segments for 2d simulations. Unlike implicit surface elements, each explicit triangle or line segment may span multiple grid cells. See the <a class="reference internal" href="read_surf.html#command-read-surf"><span class="std std-ref">read_surf command</span></a> for details.</p>
<p>This command can only be used for simulations with explicit surface elements. See the similar <a class="reference internal" href="compute_react_isurf_grid.html#command-compute-react-isurf-grid"><span class="std std-ref">compute react/isurf/grid</span></a> for use with simulations with implicit surface elements.</p>
<p>Note that when a particle collides with a surface element, it can bounce off (possibly as a different species), be captured by the surface (vanish), or a 2nd particle can also be emitted.</p>
<p>The doc page for the <a class="reference internal" href="surf_react.html#command-surf-react"><span class="std std-ref">surf_react command</span></a> explains the different reactions that can occur for each specified style.</p>
<p>If no values are specified each reaction specified by the <a class="reference internal" href="surf_react.html#command-surf-react"><span class="std std-ref">surf_react</span></a> style is tallied individually for each surface element.</p>
<p>If M values are specified, then M tallies are made for each surface element, one per value. If the value starts with “r:” then any reaction which occurs with one (or more) of the listed species as a reactant is counted as part of that tally. If the value starts with “p:” then any reaction which occurs with one (or more) of the listed species as a product is counted as part of that tally. Note that these rules mean that a single reaction may be tallied multiple times depending on which values it matches.</p>
<p>The results of this compute can be used by different commands in different ways. The values for a single timestep can be output by the <a class="reference internal" href="dump.html#command-dump"><span class="std std-ref">dump surf</span></a> command.</p>
<p>The values over many sampling timesteps can be averaged by the <a class="reference internal" href="fix_ave_surf.html#command-fix-ave-surf"><span class="std std-ref">fix ave/surf command</span></a>.</p>
<hr class="docutils" />
<p><strong>Output info:</strong></p>
<p>This compute calculates a per-surf array, with the number of columns either equal to the number of reactions defined by the <a class="reference internal" href="surf_react.html#command-surf-react"><span class="std std-ref">surf_react</span></a> style (if no values are specified) or equal to M = the # of values specified.</p>
<p>Surface elements not in the specified <em>group-ID</em> or not assigned to the specified <em>reaction-ID</em> will output zeroes for all their values.</p>
<p>The array can be accessed by any command that uses per-surf values from a compute as input. See <a class="reference internal" href="Section_howto.html#howto-output"><span class="std std-ref">Output from SPARTA (stats, dumps, computes, fixes, variables)</span></a> for an overview of SPARTA output options.</p>
<p>The per-surf array values are counts of the number of reactions that
occurred.</p>
</div>
<hr class="docutils" />
<div class="section" id="restrictions">
<h2>Restrictions:<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
<div class="section" id="related-commands">
<h2>Related commands:<a class="headerlink" href="#related-commands" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="fix_ave_surf.html#command-fix-ave-surf"><span class="std std-ref">fix ave/surf command</span></a>,
<a class="reference internal" href="dump.html#command-dump"><span class="std std-ref">dump surf</span></a>,
<a class="reference internal" href="compute_react_isurf_grid.html#command-compute-react-isurf-grid"><span class="std std-ref">compute react/isurf/grid</span></a></p>
</div>
<div class="section" id="default">
<h2>Default:<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>