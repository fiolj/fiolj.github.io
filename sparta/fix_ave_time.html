

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>14.57. fix ave/time command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="14.58. fix balance command - fix balance/kk command" href="fix_balance.html" />
    <link rel="prev" title="14.56. fix ave/surf command" href="fix_ave_surf.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="commands.html">14. List of Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adapt_grid.html">14.1. adapt_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="balance_grid.html">14.2. balance_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="bound_modify.html">14.3. bound_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">14.4. boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="clear.html">14.5. clear command</a></li>
<li class="toctree-l2"><a class="reference internal" href="collide.html">14.6. collide command</a></li>
<li class="toctree-l2"><a class="reference internal" href="collide_modify.html">14.7. collide_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute.html">14.8. compute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_boundary.html">14.9. compute boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html">14.10. compute count command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html#compute-count-kk-command">14.11. compute count/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_distsurf_grid.html">14.12. compute distsurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html">14.13. compute eflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html#compute-eflux-grid-kk-command">14.14. compute eflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_fft_grid.html">14.15. compute fft/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html">14.16. compute grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html#compute-grid-kk-command">14.17. compute grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_isurf_grid.html">14.18. compute isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html">14.19. compute ke/particle command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html#compute-ke-particle-kk-command">14.20. compute ke/particle/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html">14.21. compute lambda/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html#compute-lambda-grid-kk-command">14.22. compute lambda/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html">14.23. compute pflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html#compute-pflux-grid-kk-command">14.24. compute pflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_property_grid.html">14.25. compute property/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_boundary.html">14.26. compute react/boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_isurf_grid.html">14.27. compute react/isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_surf.html">14.28. compute react/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_reduce.html">14.29. compute reduce command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html">14.30. compute sonine/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html#compute-sonine-grid-kk-command">14.31. compute sonine/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html">14.32. compute surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html#compute-surf-kk-command">14.33. compute surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html">14.34. compute temp command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html#compute-temp-kk-command">14.35. compute temp/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html">14.36. compute thermal/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html#compute-thermal-grid-kk-command">14.37. compute thermal/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_tvib_grid.html">14.38. compute tvib/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_box.html">14.39. create_box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_grid.html">14.40. create_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html">14.41. create_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html#create-particles-kk-command">14.42. create_particles/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dimension.html">14.43. dimension command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html">14.44. dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html">14.45. dump image command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-movie-command">14.46. dump movie command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html">14.47. dump_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="echo.html">14.48. echo command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix.html">14.49. fix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ablate.html">14.50. fix ablate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html">14.51. fix adapt command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html#fix-adapt-kk-command">14.52. fix adapt/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ambipolar.html">14.53. fix ambipolar command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html">14.54. fix ave/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html#fix-ave-grid-kk-command">14.55. fix ave/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_surf.html">14.56. fix ave/surf command</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">14.57. fix ave/time command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_balance.html">14.58. fix balance command - fix balance/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html">14.59. fix emit/face command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html#fix-emit-face-kk-command">14.60. fix emit/face/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face_file.html">14.61. fix emit/face/file command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_surf.html">14.62. fix emit/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html">14.63. fix grid/check command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html#fix-grid-check-kk-command">14.64. fix grid/check/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html">14.65. fix move/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html#fix-move-surf-kk-command">14.66. fix move/surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_print.html">14.67. fix print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_vibmode.html">14.68. fix vibmode command</a></li>
<li class="toctree-l2"><a class="reference internal" href="global.html">14.69. global command</a></li>
<li class="toctree-l2"><a class="reference internal" href="group.html">14.70. group command</a></li>
<li class="toctree-l2"><a class="reference internal" href="if.html">14.71. if command</a></li>
<li class="toctree-l2"><a class="reference internal" href="include.html">14.72. include command</a></li>
<li class="toctree-l2"><a class="reference internal" href="jump.html">14.73. jump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="label.html">14.74. label command</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">14.75. log command</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixture.html">14.76. mixture command</a></li>
<li class="toctree-l2"><a class="reference internal" href="move_surf.html">14.77. move_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="next.html">14.78. next command</a></li>
<li class="toctree-l2"><a class="reference internal" href="package.html">14.79. package command</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition.html">14.80. partition command</a></li>
<li class="toctree-l2"><a class="reference internal" href="print.html">14.81. print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="quit.html">14.82. quit command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react.html">14.83. react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react_modify.html">14.84. react_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_grid.html">14.85. read_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_isurf.html">14.86. read_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_particles.html">14.87. read_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_restart.html">14.88. read_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_surf.html">14.89. read_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="region.html">14.90. region command</a></li>
<li class="toctree-l2"><a class="reference internal" href="remove_surf.html">14.91. remove_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset_timestep.html">14.92. reset_timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="restart.html">14.93. restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="run.html">14.94. run command</a></li>
<li class="toctree-l2"><a class="reference internal" href="scale_particles.html">14.95. scale_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="seed.html">14.96. seed command</a></li>
<li class="toctree-l2"><a class="reference internal" href="shell.html">14.97. shell command</a></li>
<li class="toctree-l2"><a class="reference internal" href="species.html">14.98. species command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">14.99. stats command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_modify.html">14.100. stats_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_style.html">14.101. stats_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="suffix.html">14.102. suffix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_collide.html">14.103. surf_collide command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_modify.html">14.104. surf_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_react.html">14.105. surf_react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestep.html">14.106. timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="uncompute.html">14.107. uncompute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="undump.html">14.108. undump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="unfix.html">14.109. unfix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">14.110. units command</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable.html">14.111. variable command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_grid.html">14.112. write_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_isurf.html">14.113. write_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_restart.html">14.114. write_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_surf.html">14.115. write_surf command</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="commands.html">14. List of Commands</a> &raquo;</li>
        
      <li>14.57. fix ave/time command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fix_ave_time.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fix-ave-time-command">
<span id="command-fix-ave-time"></span><span id="index-0"></span><h1>14.57. fix ave/time command<a class="headerlink" href="#fix-ave-time-command" title="Permalink to this headline">¶</a></h1>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="n">ID</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="n">Nevery</span> <span class="n">Nrepeat</span> <span class="n">Nfreq</span> <span class="n">value1</span> <span class="n">value2</span> <span class="o">...</span> <span class="n">keyword</span> <span class="n">args</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>ID is documented in <a class="reference external" href="fix.html">fix</a> command</p></li>
<li><p>ave/time = style name of this fix command</p></li>
<li><p>Nevery = use input values every this many timesteps</p></li>
<li><p>Nrepeat = # of times to use input values for calculating averages</p></li>
<li><p>Nfreq = calculate averages every this many timesteps</p></li>
<li><p>one or more input values can be listed</p></li>
<li><p>value = c_ID, c_ID[N], f_ID, f_ID[N], v_name</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c_ID</span> <span class="o">=</span> <span class="k">global</span> <span class="n">scalar</span> <span class="ow">or</span> <span class="n">vector</span> <span class="ow">or</span> <span class="n">array</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">compute</span> <span class="k">with</span> <span class="n">ID</span>
<span class="n">c_ID</span><span class="p">[</span><span class="n">I</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ith</span> <span class="n">component</span> <span class="n">of</span> <span class="k">global</span> <span class="n">vector</span> <span class="ow">or</span> <span class="n">Ith</span> <span class="n">column</span> <span class="n">of</span> <span class="k">global</span> <span class="n">array</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">compute</span> <span class="k">with</span> <span class="n">ID</span><span class="p">,</span> <span class="n">I</span> <span class="n">can</span> <span class="n">include</span> <span class="n">wildcard</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span>
<span class="n">f_ID</span> <span class="o">=</span> <span class="k">global</span> <span class="n">scalar</span> <span class="ow">or</span> <span class="n">vector</span> <span class="ow">or</span> <span class="n">array</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">fix</span> <span class="k">with</span> <span class="n">ID</span>
<span class="n">f_ID</span><span class="p">[</span><span class="n">I</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ith</span> <span class="n">component</span> <span class="n">of</span> <span class="k">global</span> <span class="n">vector</span> <span class="ow">or</span> <span class="n">Ith</span> <span class="n">column</span> <span class="n">of</span> <span class="k">global</span> <span class="n">array</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">fix</span> <span class="k">with</span> <span class="n">ID</span><span class="p">,</span> <span class="n">I</span> <span class="n">can</span> <span class="n">include</span> <span class="n">wildcard</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span>
<span class="n">v_name</span> <span class="o">=</span> <span class="k">global</span> <span class="n">value</span> <span class="n">calculated</span> <span class="n">by</span> <span class="n">an</span> <span class="n">equal</span><span class="o">-</span><span class="n">style</span> <span class="n">variable</span> <span class="k">with</span> <span class="n">name</span>
</pre></div>
</div>
</li>
<li><p>zero or more keyword/arg pairs may be appended</p></li>
<li><p>keyword = <em>mode</em> or <em>file</em> or <em>ave</em> or <em>start</em> or <em>off</em> or <em>title1</em>
or <em>title2</em> or <em>title3</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mode</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">scalar</span> <span class="ow">or</span> <span class="n">vector</span>
  <span class="n">scalar</span> <span class="o">=</span> <span class="nb">all</span> <span class="nb">input</span> <span class="n">values</span> <span class="n">are</span> <span class="k">global</span> <span class="n">scalars</span>
  <span class="n">vector</span> <span class="o">=</span> <span class="nb">all</span> <span class="nb">input</span> <span class="n">values</span> <span class="n">are</span> <span class="k">global</span> <span class="n">vectors</span> <span class="ow">or</span> <span class="k">global</span> <span class="n">arrays</span>
<span class="n">ave</span> <span class="n">args</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">running</span> <span class="ow">or</span> <span class="n">window</span> <span class="n">M</span>
  <span class="n">one</span> <span class="o">=</span> <span class="n">output</span> <span class="n">a</span> <span class="n">new</span> <span class="n">average</span> <span class="n">value</span> <span class="n">every</span> <span class="n">Nfreq</span> <span class="n">steps</span>
  <span class="n">running</span> <span class="o">=</span> <span class="n">output</span> <span class="n">cummulative</span> <span class="n">average</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">previous</span> <span class="n">Nfreq</span> <span class="n">steps</span>
  <span class="n">window</span> <span class="n">M</span> <span class="o">=</span> <span class="n">output</span> <span class="n">average</span> <span class="n">of</span> <span class="n">M</span> <span class="n">most</span> <span class="n">recent</span> <span class="n">Nfreq</span> <span class="n">steps</span>
<span class="n">start</span> <span class="n">args</span> <span class="o">=</span> <span class="n">Nstart</span>
  <span class="n">Nstart</span> <span class="o">=</span> <span class="n">start</span> <span class="n">averaging</span> <span class="n">on</span> <span class="n">this</span> <span class="n">timestep</span>
<span class="n">off</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">M</span> <span class="o">=</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">average</span> <span class="n">this</span> <span class="n">value</span>
  <span class="n">M</span> <span class="o">=</span> <span class="n">value</span> <span class="c1"># from 1 to Nvalues</span>
<span class="n">file</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">filename</span>
  <span class="n">filename</span> <span class="o">=</span> <span class="n">name</span> <span class="n">of</span> <span class="n">file</span> <span class="n">to</span> <span class="n">output</span> <span class="n">time</span> <span class="n">averages</span> <span class="n">to</span>
<span class="n">title1</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">string</span>
  <span class="n">string</span> <span class="o">=</span> <span class="n">text</span> <span class="n">to</span> <span class="nb">print</span> <span class="k">as</span> <span class="mi">1</span><span class="n">st</span> <span class="n">line</span> <span class="n">of</span> <span class="n">output</span> <span class="n">file</span>
<span class="n">title2</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">string</span>
  <span class="n">string</span> <span class="o">=</span> <span class="n">text</span> <span class="n">to</span> <span class="nb">print</span> <span class="k">as</span> <span class="mi">2</span><span class="n">nd</span> <span class="n">line</span> <span class="n">of</span> <span class="n">output</span> <span class="n">file</span>
<span class="n">title3</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">string</span>
  <span class="n">string</span> <span class="o">=</span> <span class="n">text</span> <span class="n">to</span> <span class="nb">print</span> <span class="k">as</span> <span class="mi">3</span><span class="n">rd</span> <span class="n">line</span> <span class="n">of</span> <span class="n">output</span> <span class="n">file</span><span class="p">,</span> <span class="n">only</span> <span class="k">for</span> <span class="n">vector</span> <span class="n">mode</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="nb">all</span> <span class="mi">100</span> <span class="mi">5</span> <span class="mi">1000</span> <span class="n">c_myTemp</span> <span class="n">c_thermo_temp</span> <span class="n">file</span> <span class="n">temp</span><span class="o">.</span><span class="n">profile</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="nb">all</span> <span class="mi">100</span> <span class="mi">5</span> <span class="mi">1000</span> <span class="n">c_myCount</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">c_myCount</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="n">ave</span> <span class="n">window</span> <span class="mi">20</span> <span class="o">&amp;</span>
                              <span class="n">title1</span> <span class="s2">&quot;My output values&quot;</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="nb">all</span> <span class="mi">100</span> <span class="mi">5</span> <span class="mi">1000</span> <span class="n">c_myCount</span><span class="p">[</span><span class="o">*</span><span class="p">]</span> <span class="n">ave</span> <span class="n">window</span> <span class="mi">20</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="nb">all</span> <span class="mi">1</span> <span class="mi">100</span> <span class="mi">1000</span> <span class="n">f_indent</span> <span class="n">f_indent</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">file</span> <span class="n">temp</span><span class="o">.</span><span class="n">indent</span> <span class="n">off</span> <span class="mi">1</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Use one or more global values as inputs every few timesteps, and average
them over longer timescales. The resulting averages can be used by other
output commands such as <a class="reference external" href="stats_style.html">stats_style custom</a>, and
can also be written to a file. Note that if no time averaging is done,
this command can be used as a convenient way to simply output one or
more global values to a file.</p>
<p>Each listed value can be the result of a <a class="reference external" href="compute.html">compute</a> or
<a class="reference external" href="fix.html">fix</a> or the evaluation of an equal-style
<a class="reference external" href="variable.html">variable</a>. In each case, the compute, fix, or
variable must produce a global quantity, not a per-grid or per-surf
quantity. If you wish to time-average those quantities, see the <a class="reference external" href="fix_ave_grid.html">fix
ave/grid</a> and <a class="reference external" href="fix_ave_surf.html">fix ave/surf</a>
commands.</p>
<p><a class="reference external" href="compute.html">Computes</a> that produce global quantities are those
which do not have the word <em>particle</em> or <em>grid</em> or <em>surf</em> in their style
name. Only a few <a class="reference external" href="fix.html">fixes</a> produce global quantities. See the
doc pages for individual fixes for info on which ones produce such
values. <a class="reference external" href="variable.html">Variables</a> of style <em>equal</em> are the only ones
that can be used with this fix. Variables of style <em>particle</em> cannot be
used, since they produce per-particle values.</p>
<p>The input values must either be all scalars or all vectors (or arrays),
depending on the setting of the <em>mode</em> keyword. In both cases, the
averaging is performed independently on each input value. I.e. each
input scalar is averaged independently and each element of each input
vector (or array) is averaged independently.</p>
<p>If <em>mode</em> = scalar, then the input values must be scalars, or vectors
with a bracketed term appended, indicating the Ith value of the vector
is used.</p>
<p>If <em>mode</em> = vector, then the input values must be vectors, or arrays
with a bracketed term appended, indicating the Ith column of the array
is used. All vectors must be the same length, which is the length of the
vector or number of rows in the array.</p>
<p>Note that for values from a compute or fix, the bracketed index I can be
specified using a wildcard asterisk with the index to effectively
specify multiple values. This takes the form “*” or “<em>n” or “n</em>” or
“m*n”. If N = the size of the vector (for <em>mode</em> = scalar) or the number
of columns in the array (for <em>mode</em> = vector), then an asterisk with no
numeric values means all indices from 1 to N. A leading asterisk means
all indices from 1 to n (inclusive). A trailing asterisk means all
indices from n to N (inclusive). A middle asterisk means all indices
from m to n (inclusive).</p>
<p>Using a wildcard is the same as if the individual elements of the vector
or columns of the array had been listed one by one. E.g. these 2 fix
ave/time commands are equivalent, since the <a class="reference external" href="compute_count.html">compute
count</a> command creates, in this case, a global
vector with 3 values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="mi">1</span> <span class="n">count</span> <span class="n">Ar</span> <span class="n">He</span> <span class="n">O</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="mi">100</span> <span class="mi">1</span> <span class="mi">100</span> <span class="n">c_1</span> <span class="n">file</span> <span class="n">tmp</span><span class="o">.</span><span class="n">count</span>
<span class="n">fix</span> <span class="mi">1</span> <span class="n">ave</span><span class="o">/</span><span class="n">time</span> <span class="mi">100</span> <span class="mi">1</span> <span class="mi">100</span> <span class="n">c_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">c_1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">c_1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="n">file</span> <span class="n">tmp</span><span class="o">.</span><span class="n">count</span>
</pre></div>
</div>
<hr class="docutils" />
<p>The <em>Nevery</em>, <em>Nrepeat</em>, and <em>Nfreq</em> arguments specify on what timesteps
the input values will be used in order to contribute to the average. The
final averaged quantities are generated on timesteps that are a mlutiple
of <em>Nfreq</em>. The average is over <em>Nrepeat</em> quantities, computed in the
preceding portion of the simulation every <em>Nevery</em> timesteps. <em>Nfreq</em>
must be a multiple of <em>Nevery</em> and <em>Nevery</em> must be non-zero even if
<em>Nrepeat</em> is 1. Also, the timesteps contributing to the average value
cannot overlap, i.e. Nfreq &gt; (Nrepeat-1)*Nevery is required.</p>
<p>For example, if Nevery=2, Nrepeat=6, and Nfreq=100, then values on
timesteps 90,92,94,96,98,100 will be used to compute the final average
on timestep 100. Similarly for timesteps 190,192,194,196,198,200 on
timestep 200, etc. If Nrepeat=1 and Nfreq = 100, then no time averaging
is done; values are simply generated on timesteps 100,200,etc.</p>
<hr class="docutils" />
<p>If a value begins with <code class="docutils literal notranslate"><span class="pre">c_</span></code>, a compute ID must follow which has been
previously defined in the input script. If <em>mode</em> = scalar, then if no
bracketed term is appended, the global scalar calculated by the compute
is used. If a bracketed term is appended, the Ith element of the global
vector calculated by the compute is used. If <em>mode</em> = vector, then if no
bracketed term is appended, the global vector calculated by the compute
is used. If a bracketed term is appended, the Ith column of the global
array calculated by the compute is used. See the discussion above for
how I can be specified with a wildcard asterisk to effectively specify
multiple values.</p>
<p>Note that there is a <a class="reference external" href="compute_reduce.html">compute reduce</a> command
which can sum per-particle or per-grid or per-surf quantities into a
global scalar or vector which can thus be accessed by fix ave/time. Also
Note that users can also write code for their own compute styles and
<a class="reference external" href="Section_modify.html">add them to SPARTA</a>; their output can then be
processed by this fix.</p>
<p>If a value begins with <code class="docutils literal notranslate"><span class="pre">f_</span></code>, a fix ID must follow which has been
previously defined in the input script. If <em>mode</em> = scalar, then if no
bracketed term is appended, the global scalar calculated by the fix is
used. If a bracketed term is appended, the Ith element of the global
vector calculated by the fix is used. If <em>mode</em> = vector, then if no
bracketed term is appended, the global vector calculated by the fix is
used. If a bracketed term is appended, the Ith column of the global
array calculated by the fix is used. See the discussion above for how I
can be specified with a wildcard asterisk to effectively specify
multiple values.</p>
<p>Note that some fixes only produce their values on certain timesteps,
which must be compatible with <em>Nevery</em>, else an error will result. Users
can also write code for their own fix styles and <a class="reference external" href="Section_modify.html">add them to
SPARTA</a>.</p>
<p>If a value begins with <code class="docutils literal notranslate"><span class="pre">v_</span></code>, a variable name must follow which has been
previously defined in the input script. Variables can only be used as
input for <em>mode</em> = scalar. Only equal-style variables can be referenced.
See the <a class="reference external" href="variable.html">variable</a> command for details. Note that
variables of style <em>equal</em> define a formula which can reference
<a class="reference external" href="stats_style.html">stats_style</a> keywords, or they can invoke other
computes, fixes, or variables when they are evaluated, so this is a very
general means of specifying quantities to time average.</p>
<hr class="docutils" />
<p>Additional optional keywords also affect the operation of this fix.</p>
<p>If the <em>mode</em> keyword is set to <em>scalar</em>, then all input values must be
global scalars, or elements of global vectors. If the <em>mode</em> keyword is
set to <em>vector</em>, then all input values must be global vectors, or
columns of global arrays. They can also be global arrays, which are
converted into a series of global vectors (one per column), as explained
above.</p>
<p>The <em>ave</em> keyword determines how the values produced every <em>Nfreq</em> steps
are averaged with values produced on previous steps that were multiples
of <em>Nfreq</em>, before they are accessed by another output command or
written to a file.</p>
<p>If the <em>ave</em> setting is <em>one</em>, then the values produced on timesteps
that are multiples of <em>Nfreq</em> are independent of each other; they are
output as-is without further averaging.</p>
<p>If the <em>ave</em> setting is <em>running</em>, then the values produced on timesteps
that are multiples of <em>Nfreq</em> are summed and averaged in a cummulative
sense before being output. Each output value is thus the average of the
value produced on that timestep with all preceding values. This running
average begins when the fix is defined; it can only be restarted by
deleting the fix via the <a class="reference external" href="unfix.html">unfix</a> command, or by
re-defining the fix by re-specifying it.</p>
<p>If the <em>ave</em> setting is <em>window</em>, then the values produced on timesteps
that are multiples of <em>Nfreq</em> are summed and averaged within a moving
“window” of time, so that the last M values are used to produce the
output. E.g. if M = 3 and Nfreq = 1000, then the output on step 10000
will be the average of the individual values on steps 8000,9000,10000.
Outputs on early steps will average over less than M values if they are
not available.</p>
<p>The <em>start</em> keyword specifies what timestep averaging will begin on. The
default is step 0. Often input values can be 0.0 at time 0, so setting
<em>start</em> to a larger value can avoid including a 0.0 in a running or
windowed average.</p>
<p>The <em>off</em> keyword can be used to flag any of the input values. If a
value is flagged, it will not be time averaged. Instead the most recent
input value will always be stored and output. This is useful if one of
more of the inputs produced by a compute or fix or variable are
effectively constant or are simply current values. E.g. they are being
written to a file with other time-averaged values for purposes of
creating well-formatted output.</p>
<p>The <em>file</em> keyword allows a filename to be specified. Every <em>Nfreq</em>
steps, one quantity or vector of quantities is written to the file for
each input value specified in the fix ave/time command. For <em>mode</em> =
scalar, this means a single line is written each time output is
performed. Thus the file ends up to be a series of lines, i.e. one
column of numbers for each input value. For <em>mode</em> = vector, an array of
numbers is written each time output is performed. The number of rows is
the length of the input vectors, and the number of columns is the number
of values. Thus the file ends up to be a series of these array sections.</p>
<p>The <em>title1</em> and <em>title2</em> and <em>title3</em> keywords allow specification of
the strings that will be printed as the first 2 or 3 lines of the output
file, assuming the <em>file</em> keyword was used. SPARTA uses default values
for each of these, so they do not need to be specified.</p>
<p>By default, these header lines are as follows for <em>mode</em> = scalar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Time-averaged data for fix ID</span>
<span class="c1"># TimeStep value1 value2 ...</span>
</pre></div>
</div>
<p>In the first line, ID is replaced with the fix-ID. In the second line
the values are replaced with the appropriate fields from the fix
ave/time command. There is no third line in the header of the file, so
the <em>title3</em> setting is ignored when <em>mode</em> = scalar.</p>
<p>By default, these header lines are as follows for <em>mode</em> = vector:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Time-averaged data for fix ID</span>
<span class="c1"># TimeStep Number-of-rows</span>
<span class="c1"># Row value1 value2 ...</span>
</pre></div>
</div>
<p>In the first line, ID is replaced with the fix-ID. The second line
describes the two values that are printed at the first of each section
of output. In the third line the values are replaced with the
appropriate fields from the fix ave/time command.</p>
<hr class="docutils" />
<p><strong>Restart, output info:</strong></p>
<p>No information about this fix is written to <a class="reference external" href="restart.html">binary restart
files</a>.</p>
<p>This fix produces a global scalar or global vector or global array which
can be accessed by various output commands. The values can only be
accessed on timesteps that are multiples of <em>Nfreq</em> since that is when
averaging is performed.</p>
<p>A scalar is produced if only a single input value is averaged and <em>mode</em>
= scalar. A vector is produced if multiple input values are averaged for
<em>mode</em> = scalar, or a single input value for <em>mode</em> = vector. In the
first case, the length of the vector is the number of inputs. In the
second case, the length of the vector is the same as the length of the
input vector. An array is produced if multiple input values are averaged
and <em>mode</em> = vector. The global array has # of rows = length of the
input vectors and # of columns = number of inputs.</p>
<p><strong>Restrictions:</strong> none</p>
<p><strong>Related commands:</strong></p>
<p><a class="reference internal" href="compute.html#command-compute"><span class="std std-ref">compute command</span></a>,
<a class="reference internal" href="fix_ave_surf.html#command-fix-ave-surf"><span class="std std-ref">fix ave/surf command</span></a>,
<a class="reference internal" href="variable.html#command-variable"><span class="std std-ref">variable command</span></a></p>
<p><strong>Default:</strong> none</p>
<p>The option defaults are mode = scalar, ave = one, start = 0, no file
output, title 1,2,3 = strings as described above, and no off settings
for any input values.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fix_balance.html" class="btn btn-neutral float-right" title="14.58. fix balance command - fix balance/kk command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fix_ave_surf.html" class="btn btn-neutral float-left" title="14.56. fix ave/surf command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>