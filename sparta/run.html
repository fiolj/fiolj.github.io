

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>14.94. run command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="14.95. scale_particles command" href="scale_particles.html" />
    <link rel="prev" title="14.93. restart command" href="restart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="commands.html">14. List of Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adapt_grid.html">14.1. adapt_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="balance_grid.html">14.2. balance_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="bound_modify.html">14.3. bound_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">14.4. boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="clear.html">14.5. clear command</a></li>
<li class="toctree-l2"><a class="reference internal" href="collide.html">14.6. collide command</a></li>
<li class="toctree-l2"><a class="reference internal" href="collide_modify.html">14.7. collide_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute.html">14.8. compute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_boundary.html">14.9. compute boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html">14.10. compute count command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html#compute-count-kk-command">14.11. compute count/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_distsurf_grid.html">14.12. compute distsurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html">14.13. compute eflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html#compute-eflux-grid-kk-command">14.14. compute eflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_fft_grid.html">14.15. compute fft/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html">14.16. compute grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html#compute-grid-kk-command">14.17. compute grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_isurf_grid.html">14.18. compute isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html">14.19. compute ke/particle command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html#compute-ke-particle-kk-command">14.20. compute ke/particle/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html">14.21. compute lambda/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html#compute-lambda-grid-kk-command">14.22. compute lambda/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html">14.23. compute pflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html#compute-pflux-grid-kk-command">14.24. compute pflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_property_grid.html">14.25. compute property/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_boundary.html">14.26. compute react/boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_isurf_grid.html">14.27. compute react/isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_surf.html">14.28. compute react/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_reduce.html">14.29. compute reduce command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html">14.30. compute sonine/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html#compute-sonine-grid-kk-command">14.31. compute sonine/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html">14.32. compute surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html#compute-surf-kk-command">14.33. compute surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html">14.34. compute temp command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html#compute-temp-kk-command">14.35. compute temp/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html">14.36. compute thermal/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html#compute-thermal-grid-kk-command">14.37. compute thermal/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_tvib_grid.html">14.38. compute tvib/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_box.html">14.39. create_box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_grid.html">14.40. create_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html">14.41. create_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html#create-particles-kk-command">14.42. create_particles/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dimension.html">14.43. dimension command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html">14.44. dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html">14.45. dump image command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-movie-command">14.46. dump movie command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html">14.47. dump_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="echo.html">14.48. echo command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix.html">14.49. fix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ablate.html">14.50. fix ablate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html">14.51. fix adapt command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html#fix-adapt-kk-command">14.52. fix adapt/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ambipolar.html">14.53. fix ambipolar command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html">14.54. fix ave/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html#fix-ave-grid-kk-command">14.55. fix ave/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_surf.html">14.56. fix ave/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_time.html">14.57. fix ave/time command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_balance.html">14.58. fix balance command - fix balance/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html">14.59. fix emit/face command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html#fix-emit-face-kk-command">14.60. fix emit/face/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face_file.html">14.61. fix emit/face/file command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_surf.html">14.62. fix emit/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html">14.63. fix grid/check command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html#fix-grid-check-kk-command">14.64. fix grid/check/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html">14.65. fix move/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html#fix-move-surf-kk-command">14.66. fix move/surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_print.html">14.67. fix print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_vibmode.html">14.68. fix vibmode command</a></li>
<li class="toctree-l2"><a class="reference internal" href="global.html">14.69. global command</a></li>
<li class="toctree-l2"><a class="reference internal" href="group.html">14.70. group command</a></li>
<li class="toctree-l2"><a class="reference internal" href="if.html">14.71. if command</a></li>
<li class="toctree-l2"><a class="reference internal" href="include.html">14.72. include command</a></li>
<li class="toctree-l2"><a class="reference internal" href="jump.html">14.73. jump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="label.html">14.74. label command</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">14.75. log command</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixture.html">14.76. mixture command</a></li>
<li class="toctree-l2"><a class="reference internal" href="move_surf.html">14.77. move_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="next.html">14.78. next command</a></li>
<li class="toctree-l2"><a class="reference internal" href="package.html">14.79. package command</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition.html">14.80. partition command</a></li>
<li class="toctree-l2"><a class="reference internal" href="print.html">14.81. print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="quit.html">14.82. quit command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react.html">14.83. react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react_modify.html">14.84. react_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_grid.html">14.85. read_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_isurf.html">14.86. read_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_particles.html">14.87. read_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_restart.html">14.88. read_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_surf.html">14.89. read_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="region.html">14.90. region command</a></li>
<li class="toctree-l2"><a class="reference internal" href="remove_surf.html">14.91. remove_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset_timestep.html">14.92. reset_timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="restart.html">14.93. restart command</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">14.94. run command</a></li>
<li class="toctree-l2"><a class="reference internal" href="scale_particles.html">14.95. scale_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="seed.html">14.96. seed command</a></li>
<li class="toctree-l2"><a class="reference internal" href="shell.html">14.97. shell command</a></li>
<li class="toctree-l2"><a class="reference internal" href="species.html">14.98. species command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">14.99. stats command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_modify.html">14.100. stats_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_style.html">14.101. stats_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="suffix.html">14.102. suffix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_collide.html">14.103. surf_collide command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_modify.html">14.104. surf_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_react.html">14.105. surf_react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestep.html">14.106. timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="uncompute.html">14.107. uncompute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="undump.html">14.108. undump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="unfix.html">14.109. unfix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">14.110. units command</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable.html">14.111. variable command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_grid.html">14.112. write_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_isurf.html">14.113. write_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_restart.html">14.114. write_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_surf.html">14.115. write_surf command</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="commands.html">14. List of Commands</a> &raquo;</li>
        
      <li>14.94. run command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/run.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="run-command">
<span id="command-run"></span><span id="index-0"></span><h1>14.94. run command<a class="headerlink" href="#run-command" title="Permalink to this headline">¶</a></h1>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">N</span> <span class="n">keyword</span> <span class="n">values</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>N = # of timesteps</p></li>
<li><p>zero or more keyword/value pairs may be appended</p></li>
<li><p>keyword = <em>upto</em> or <em>start</em> or <em>stop</em> or <em>pre</em> or <em>post</em> or <em>every</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">upto</span> <span class="n">value</span> <span class="o">=</span> <span class="n">none</span>
<span class="n">start</span> <span class="n">value</span> <span class="o">=</span> <span class="n">N1</span>
  <span class="n">N1</span> <span class="o">=</span> <span class="n">timestep</span> <span class="n">at</span> <span class="n">which</span> <span class="mi">1</span><span class="n">st</span> <span class="n">run</span> <span class="n">started</span>
<span class="n">stop</span> <span class="n">value</span> <span class="o">=</span> <span class="n">N2</span>
  <span class="n">N2</span> <span class="o">=</span> <span class="n">timestep</span> <span class="n">at</span> <span class="n">which</span> <span class="n">last</span> <span class="n">run</span> <span class="n">will</span> <span class="n">end</span>
<span class="n">pre</span> <span class="n">value</span> <span class="o">=</span> <span class="n">no</span> <span class="ow">or</span> <span class="n">yes</span>
<span class="n">post</span> <span class="n">value</span> <span class="o">=</span> <span class="n">no</span> <span class="ow">or</span> <span class="n">yes</span>
<span class="n">every</span> <span class="n">values</span> <span class="o">=</span> <span class="n">M</span> <span class="n">c1</span> <span class="n">c2</span> <span class="o">...</span>
  <span class="n">M</span> <span class="o">=</span> <span class="k">break</span> <span class="n">the</span> <span class="n">run</span> <span class="n">into</span> <span class="n">M</span><span class="o">-</span><span class="n">timestep</span> <span class="n">segments</span> <span class="ow">and</span> <span class="n">invoke</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">commands</span> <span class="n">between</span> <span class="n">each</span> <span class="n">segment</span>
  <span class="n">c1</span><span class="p">,</span><span class="n">c2</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="n">cN</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">SPARTA</span> <span class="n">commands</span><span class="p">,</span> <span class="n">each</span> <span class="n">enclosed</span> <span class="ow">in</span> <span class="n">quotes</span>
  <span class="n">c1</span> <span class="o">=</span> <span class="n">NULL</span> <span class="n">means</span> <span class="n">no</span> <span class="n">command</span> <span class="n">will</span> <span class="n">be</span> <span class="n">invoked</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="mi">10000</span>
<span class="n">run</span> <span class="mi">1000000</span> <span class="n">upto</span>
<span class="n">run</span> <span class="mi">100</span> <span class="n">start</span> <span class="mi">0</span> <span class="n">stop</span> <span class="mi">1000</span>
<span class="n">run</span> <span class="mi">1000</span> <span class="n">pre</span> <span class="n">no</span> <span class="n">post</span> <span class="n">yes</span>
<span class="n">run</span> <span class="mi">100000</span> <span class="n">start</span> <span class="mi">0</span> <span class="n">stop</span> <span class="mi">1000000</span> <span class="n">every</span> <span class="mi">1000</span> <span class="s2">&quot;print &#39;Temp = $t&#39;&quot;</span>
<span class="n">run</span> <span class="mi">100000</span> <span class="n">every</span> <span class="mi">1000</span> <span class="n">NULL</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Run or continue a simulation for a specified number of timesteps.</p>
<p>A value of N = 0 is acceptable; only the statistics of the system are
computed and printed without taking a timestep.</p>
<p>The <em>upto</em> keyword means to perform a run starting at the current
timestep up to the specified timestep. E.g. if the current timestep is
10,000 and “run 100000 upto” is used, then an additional 90,000
timesteps will be run. This can be useful for very long runs on a
machine that allocates chunks of time and terminate your job when time
is exceeded. If you need to restart your script multiple times (reading
in the last restart file), you can keep restarting your script with the
same run command until the simulation finally completes.</p>
<p>The <em>start</em> or <em>stop</em> keywords can be used if multiple runs are being
performed and you want a <a class="reference external" href="variable.html">variable</a> or
<a class="reference external" href="fix.html">fix</a> command that changes some value over time (e.g.
target temperature) to make the change across the entire set of runs and
not just a single run.</p>
<p>For example, consider these commands followed by 10 run commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span>     <span class="n">myTemp</span> <span class="n">equal</span> <span class="n">ramp</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>
<span class="n">surf_collide</span> <span class="mi">1</span> <span class="n">diffuse</span> <span class="n">v_myTemp</span> <span class="mf">0.5</span>
<span class="n">run</span>      <span class="mi">1000</span> <span class="n">start</span> <span class="mi">0</span> <span class="n">stop</span> <span class="mi">10000</span>
<span class="n">run</span>      <span class="mi">1000</span> <span class="n">start</span> <span class="mi">0</span> <span class="n">stop</span> <span class="mi">10000</span>
<span class="o">...</span>
<span class="n">run</span>      <span class="mi">1000</span> <span class="n">start</span> <span class="mi">0</span> <span class="n">stop</span> <span class="mi">10000</span>
</pre></div>
</div>
<p>The ramp() function in the <a class="reference external" href="variable.html">variable</a> and its use in
the “surf_collide” command will ramp the target temperature from 300 to
500 during a run. If the run commands did not have the start/stop
keywords (just “run 1000”), then the temperature would ramp from 300 to
500 during the 1000 steps of each run. With the start/stop keywords, the
ramping takes place smoothly over the 10000 steps of all the runs
together.</p>
<p>The <em>pre</em> and <em>post</em> keywords can be used to streamline the setup,
clean-up, and associated output to the screen that happens before and
after a run. This can be useful if you wish to do many short runs in
succession (e.g. SPARTA is being called as a library which is doing
other computations between successive short SPARTA runs).</p>
<p>By default (pre and post = yes), SPARTA zeroes statistical counts before
every run and initializes other <a class="reference external" href="fix.html">fixes</a> and
<a class="reference external" href="compute.html">computes</a> as needed. And after every run it gathers
and prints timings statistics. If a run is just a continuation of a
previous run (i.e. no settings are changed), the initial computation is
not necessary. So if <em>pre</em> is specified as “no” then the initial setup
is skipped, except for printing statistical info. Note that if <em>pre</em> is
set to “no” for the very 1st run SPARTA performs, then it is overridden,
since the initial setup computations must be done.</p>
<p>IMPORTANT NOTE: If your input script changes settings between 2 runs
(e.g. adds a <a class="reference external" href="fix.html">fix</a> or <a class="reference external" href="compute.html">compute</a>), then the
initial setup must be performed. SPARTA does not check for this, but it
would be an error to use the <em>pre no</em> option in this case.</p>
<p>If <em>post</em> is specified as “no”, the full timing and statistical output
is skipped; only a one-line summary timing is printed.</p>
<p>The <em>every</em> keyword provides a means of breaking a SPARTA run into a
series of shorter runs. Optionally, one or more SPARTA commands (c1, c2,
…, cN) will be executed in between the short runs. If used, the
<em>every</em> keyword must be the last keyword, since it has a variable number
of arguments. Each of the trailing arguments is a single SPARTA command,
and each command should be enclosed in quotes, so that the entire
command will be treated as a single argument. This will also prevent any
variables in the command from being evaluated until it is executed
multiple times during the run. Note that if a command itself needs one
of its arguments quoted (e.g. the <a class="reference external" href="print.html">print</a> command), then
you can use a combination of single and double quotes, as in the example
above or below.</p>
<p>The <em>every</em> keyword is a means to avoid listing a long series of runs
and interleaving commands in your input script. For example, a
<a class="reference external" href="print.html">print</a> command could be invoked or a <a class="reference external" href="fix.html">fix</a>
could be redefined, e.g. to reset a load balancing parameter. Or this
could be useful for invoking a command you have added to SPARTA that
wraps some other code (e.g. as a library) to perform a computation
periodically during a long SPARTA run. See <a class="reference external" href="Section_modify.html">Section
8</a> of the manual for info about how to add new
commands to SPARTA. See <a class="reference external" href="Section_howto.html#howto_10">Section 6.7</a> of
the manual for ideas about how to couple SPARTA to other codes.</p>
<p>With the <em>every</em> option, N total steps are simulated, in shorter runs of
M steps each. After each M-length run, the specified commands are
invoked. If only a single command is specified as NULL, then no command
is invoked. Thus these lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="n">t</span> <span class="n">temp</span>
<span class="n">variable</span> <span class="n">myT</span> <span class="n">equal</span> <span class="n">c_t</span>
<span class="n">run</span> <span class="mi">6000</span> <span class="n">every</span> <span class="mi">2000</span> <span class="s2">&quot;print &#39;Temp = $myT&#39;&quot;</span>
</pre></div>
</div>
<p>are the equivalent of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="n">t</span> <span class="n">temp</span>
<span class="n">variable</span> <span class="n">myT</span> <span class="n">equal</span> <span class="n">c_t</span>
<span class="n">run</span> <span class="mi">2000</span>
<span class="nb">print</span> <span class="s2">&quot;Temp = $myT&quot;</span>
<span class="n">run</span> <span class="mi">2000</span>
<span class="nb">print</span> <span class="s2">&quot;Temp = $myT&quot;</span>
<span class="n">run</span> <span class="mi">2000</span>
<span class="nb">print</span> <span class="s2">&quot;Temp = $myT&quot;</span>
</pre></div>
</div>
<p>which does 3 runs of 2000 steps and prints the x-coordinate of a
particular atom between runs. Note that the variable “$q” will be
evaluated afresh each time the print command is executed.</p>
<p>Note that by using the line continuation character “&amp;”, the run every
command can be spread across many lines, though it is still a single
command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="mi">100000</span> <span class="n">every</span> <span class="mi">1000</span> <span class="o">&amp;</span>
  <span class="s2">&quot;print &#39;Minimum value = $a&#39;&quot;</span> <span class="o">&amp;</span>
  <span class="s2">&quot;print &#39;Maximum value = $b&#39;&quot;</span> <span class="o">&amp;</span>
  <span class="s2">&quot;print &#39;Temp = $c&#39;&quot;</span>
</pre></div>
</div>
<p>If the <em>pre</em> and <em>post</em> options are set to “no” when used with the
<em>every</em> keyword, then the 1st run will do the full setup and the last
run will print the full timing summary, but these operations will be
skipped for intermediate runs.</p>
<p>IMPORTANT NOTE: You might hope to specify a command that exits the run
by jumping out of the loop, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="n">t</span> <span class="n">temp</span>
<span class="n">variable</span> <span class="n">T</span> <span class="n">equal</span> <span class="n">c_t</span>
<span class="n">run</span> <span class="mi">10000</span> <span class="n">every</span> <span class="mi">100</span> <span class="s2">&quot;if &#39;$T &lt; 300.0&#39; then &#39;jump SELF afterrun&#39;&quot;</span>
</pre></div>
</div>
<p>Unfortunately this will not currently work. The run command simply
executes each command one at a time each time it pauses, then continues
the run. You can replace the jump command with a simple
<a class="reference external" href="quit.html">quit</a> command and cause SPARTA to exit during the middle
of a run when the condition is met.</p>
<p><strong>Restrictions:</strong></p>
<p>The number of specified timesteps N must fit in a signed 32-bit integer,
so you are limited to slightly more than 2 billion steps (2^31) in a
single run. However, you can perform successive runs to run a simulation
for any number of steps (ok, up to 2^63 steps).</p>
<p><strong>Related commands:</strong> none</p>
<p><strong>Default:</strong></p>
<p>The option defaults are start = the current timestep, stop = current
timestep + N, pre = yes, and post = yes.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scale_particles.html" class="btn btn-neutral float-right" title="14.95. scale_particles command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="restart.html" class="btn btn-neutral float-left" title="14.93. restart command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>