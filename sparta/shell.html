

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>shell command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020  (build: 08/07/2020)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
  <a href= "genindex.html">Index</a>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>shell command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/shell.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shell-command">
<span id="command-shell"></span><span id="index-0"></span><h1>shell command<a class="headerlink" href="#shell-command" title="Permalink to this headline">¶</a></h1>
<div class="section" id="syntax">
<h2>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shell</span> <span class="n">cmd</span> <span class="n">args</span>
</pre></div>
</div>
<ul>
<li><p>cmd = <em>cd</em> or <em>mkdir</em> or <em>mv</em> or <em>rm</em> or <em>rmdir</em> or <em>putenv</em> or
arbitrary command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">arg</span> <span class="o">=</span> <span class="nb">dir</span>
  <span class="nb">dir</span> <span class="o">=</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">change</span> <span class="n">to</span>
<span class="n">mkdir</span> <span class="n">args</span> <span class="o">=</span> <span class="n">dir1</span> <span class="n">dir2</span> <span class="o">...</span>
  <span class="n">dir1</span><span class="p">,</span><span class="n">dir2</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">directories</span> <span class="n">to</span> <span class="n">create</span>
<span class="n">mv</span> <span class="n">args</span> <span class="o">=</span> <span class="n">old</span> <span class="n">new</span>
  <span class="n">old</span> <span class="o">=</span> <span class="n">old</span> <span class="n">filename</span>
  <span class="n">new</span> <span class="o">=</span> <span class="n">new</span> <span class="n">filename</span>
<span class="n">rm</span> <span class="n">args</span> <span class="o">=</span> <span class="n">file1</span> <span class="n">file2</span> <span class="o">...</span>
  <span class="n">file1</span><span class="p">,</span><span class="n">file2</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">filenames</span> <span class="n">to</span> <span class="n">delete</span>
<span class="n">rmdir</span> <span class="n">args</span> <span class="o">=</span> <span class="n">dir1</span> <span class="n">dir2</span> <span class="o">...</span>
  <span class="n">dir1</span><span class="p">,</span><span class="n">dir2</span> <span class="o">=</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">directories</span> <span class="n">to</span> <span class="n">delete</span>
<span class="n">putenv</span> <span class="n">args</span> <span class="o">=</span> <span class="n">var1</span><span class="o">=</span><span class="n">value1</span> <span class="n">var2</span><span class="o">=</span><span class="n">value2</span>
  <span class="n">var</span><span class="o">=</span><span class="n">value</span> <span class="o">=</span> <span class="n">one</span> <span class="n">of</span> <span class="n">more</span> <span class="n">definitions</span> <span class="n">of</span> <span class="n">environment</span> <span class="n">variables</span>
<span class="n">anything</span> <span class="k">else</span> <span class="ow">is</span> <span class="n">passed</span> <span class="k">as</span> <span class="n">a</span> <span class="n">command</span> <span class="n">to</span> <span class="n">the</span> <span class="n">shell</span> <span class="k">for</span> <span class="n">direct</span> <span class="n">execution</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shell</span> <span class="n">cd</span> <span class="n">sub1</span>
<span class="n">shell</span> <span class="n">cd</span> <span class="o">..</span>
<span class="n">shell</span> <span class="n">mkdir</span> <span class="n">tmp1</span> <span class="n">tmp2</span> <span class="n">tmp3</span>
<span class="n">shell</span> <span class="n">rmdir</span> <span class="n">tmp1</span>
<span class="n">shell</span> <span class="n">mv</span> <span class="n">log</span><span class="o">.</span><span class="n">sparta</span> <span class="n">hold</span><span class="o">/</span><span class="n">log</span><span class="o">.</span><span class="mi">1</span>
<span class="n">shell</span> <span class="n">rm</span> <span class="n">TMP</span><span class="o">/</span><span class="n">file1</span> <span class="n">TMP</span><span class="o">/</span><span class="n">file2</span>
<span class="n">shell</span> <span class="n">putenv</span> <span class="n">SPARTA_DATA</span><span class="o">=../../</span><span class="n">data</span>
<span class="n">shell</span> <span class="n">my_setup</span> <span class="n">file1</span> <span class="mi">10</span> <span class="n">file2</span>
<span class="n">shell</span> <span class="n">my_post_process</span> <span class="mi">100</span> <span class="n">dump</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description:<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Execute a shell command. A few simple file-based shell commands are
supported directly, in Unix-style syntax. Any command not listed above
is passed as-is to the C-library system() call, which invokes the
command in a shell.</p>
<p>This is means to invoke other commands from your input script. For
example, you can move files around in preparation for the next section
of the input script. Or you can run a program that pre-processes data
for input into SPARTA. Or you can run a program that post-processes
SPARTA output data.</p>
<p>With the exception of <em>cd</em>, all commands, including ones invoked via a
system() call, are executed by only a single processor, so that
files/directories are not being manipulated by multiple processors.</p>
<p>The <em>cd</em> cmd executes the Unix “cd” command to change the working
directory. All subsequent SPARTA commands that read/write files will use
the new directory. All processors execute this command.</p>
<p>The <em>mkdir</em> cmd executes the Unix “mkdir” command to create one or more
directories.</p>
<p>The <em>mv</em> cmd executes the Unix “mv” command to rename a file and/or move
it to a new directory.</p>
<p>The <em>rm</em> cmd executes the Unix “rm” command to remove one or more files.</p>
<p>The <em>rmdir</em> cmd executes the Unix “rmdir” command to remove one or more
directories. A directory must be empty to be successfully removed.</p>
<p>The <em>putenv</em> cmd defines or updates an environment variable directly.
Since this command does not pass through the shell, no shell variable
expansion or globbing is performed, only the usual substitution for
SPARTA variables defined with the <a class="reference internal" href="variable.html#command-variable"><span class="std std-ref">variable</span></a> command
is performed. The resulting string is then used literally.</p>
<p>Any other cmd is passed as-is to the shell along with its arguments as
one string, invoked by the C-library system() call. For example, these
lines in your input script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>variable n equal 10
variable foo string file2
shell my_setup file1 $n ${foo}
</pre></div>
</div>
<p>would be the same as invoking</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">my_setup</span> <span class="n">file1</span> <span class="mi">10</span> <span class="n">file2</span>
</pre></div>
</div>
<p>from a command-line prompt. The executable program “my_setup” is run
with 3 arguments: file1 10 file2.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions:<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<p>SPARTA does not detect errors or print warnings when any of these
commands execute. E.g. if the specified directory does not exist,
executing the <em>cd</em> command will silently do nothing.</p>
</div>
<div class="section" id="related-commands">
<h2>Related commands:<a class="headerlink" href="#related-commands" title="Permalink to this headline">¶</a></h2>
<p>none</p>
</div>
<div class="section" id="default">
<h2>Default:<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>