

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>14.7. collide_modify command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="14.8. compute command" href="compute.html" />
    <link rel="prev" title="14.6. collide command" href="collide.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="commands.html">14. List of Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adapt_grid.html">14.1. adapt_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="balance_grid.html">14.2. balance_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="bound_modify.html">14.3. bound_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">14.4. boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="clear.html">14.5. clear command</a></li>
<li class="toctree-l2"><a class="reference internal" href="collide.html">14.6. collide command</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">14.7. collide_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute.html">14.8. compute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_boundary.html">14.9. compute boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html">14.10. compute count command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_count.html#compute-count-kk-command">14.11. compute count/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_distsurf_grid.html">14.12. compute distsurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html">14.13. compute eflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_eflux_grid.html#compute-eflux-grid-kk-command">14.14. compute eflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_fft_grid.html">14.15. compute fft/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html">14.16. compute grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_grid.html#compute-grid-kk-command">14.17. compute grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_isurf_grid.html">14.18. compute isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html">14.19. compute ke/particle command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_ke_particle.html#compute-ke-particle-kk-command">14.20. compute ke/particle/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html">14.21. compute lambda/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_lambda_grid.html#compute-lambda-grid-kk-command">14.22. compute lambda/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html">14.23. compute pflux/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_pflux_grid.html#compute-pflux-grid-kk-command">14.24. compute pflux/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_property_grid.html">14.25. compute property/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_boundary.html">14.26. compute react/boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_isurf_grid.html">14.27. compute react/isurf/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_react_surf.html">14.28. compute react/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_reduce.html">14.29. compute reduce command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html">14.30. compute sonine/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_sonine_grid.html#compute-sonine-grid-kk-command">14.31. compute sonine/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html">14.32. compute surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_surf.html#compute-surf-kk-command">14.33. compute surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html">14.34. compute temp command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_temp.html#compute-temp-kk-command">14.35. compute temp/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html">14.36. compute thermal/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_thermal_grid.html#compute-thermal-grid-kk-command">14.37. compute thermal/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_tvib_grid.html">14.38. compute tvib/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_box.html">14.39. create_box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_grid.html">14.40. create_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html">14.41. create_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_particles.html#create-particles-kk-command">14.42. create_particles/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dimension.html">14.43. dimension command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html">14.44. dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html">14.45. dump image command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-movie-command">14.46. dump movie command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html">14.47. dump_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="echo.html">14.48. echo command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix.html">14.49. fix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ablate.html">14.50. fix ablate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html">14.51. fix adapt command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_adapt.html#fix-adapt-kk-command">14.52. fix adapt/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ambipolar.html">14.53. fix ambipolar command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html">14.54. fix ave/grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_grid.html#fix-ave-grid-kk-command">14.55. fix ave/grid/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_surf.html">14.56. fix ave/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_ave_time.html">14.57. fix ave/time command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_balance.html">14.58. fix balance command - fix balance/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html">14.59. fix emit/face command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face.html#fix-emit-face-kk-command">14.60. fix emit/face/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_face_file.html">14.61. fix emit/face/file command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_emit_surf.html">14.62. fix emit/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html">14.63. fix grid/check command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_grid_check.html#fix-grid-check-kk-command">14.64. fix grid/check/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html">14.65. fix move/surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_move_surf.html#fix-move-surf-kk-command">14.66. fix move/surf/kk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_print.html">14.67. fix print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_vibmode.html">14.68. fix vibmode command</a></li>
<li class="toctree-l2"><a class="reference internal" href="global.html">14.69. global command</a></li>
<li class="toctree-l2"><a class="reference internal" href="group.html">14.70. group command</a></li>
<li class="toctree-l2"><a class="reference internal" href="if.html">14.71. if command</a></li>
<li class="toctree-l2"><a class="reference internal" href="include.html">14.72. include command</a></li>
<li class="toctree-l2"><a class="reference internal" href="jump.html">14.73. jump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="label.html">14.74. label command</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">14.75. log command</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixture.html">14.76. mixture command</a></li>
<li class="toctree-l2"><a class="reference internal" href="move_surf.html">14.77. move_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="next.html">14.78. next command</a></li>
<li class="toctree-l2"><a class="reference internal" href="package.html">14.79. package command</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition.html">14.80. partition command</a></li>
<li class="toctree-l2"><a class="reference internal" href="print.html">14.81. print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="quit.html">14.82. quit command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react.html">14.83. react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="react_modify.html">14.84. react_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_grid.html">14.85. read_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_isurf.html">14.86. read_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_particles.html">14.87. read_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_restart.html">14.88. read_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_surf.html">14.89. read_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="region.html">14.90. region command</a></li>
<li class="toctree-l2"><a class="reference internal" href="remove_surf.html">14.91. remove_surf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset_timestep.html">14.92. reset_timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="restart.html">14.93. restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="run.html">14.94. run command</a></li>
<li class="toctree-l2"><a class="reference internal" href="scale_particles.html">14.95. scale_particles command</a></li>
<li class="toctree-l2"><a class="reference internal" href="seed.html">14.96. seed command</a></li>
<li class="toctree-l2"><a class="reference internal" href="shell.html">14.97. shell command</a></li>
<li class="toctree-l2"><a class="reference internal" href="species.html">14.98. species command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">14.99. stats command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_modify.html">14.100. stats_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats_style.html">14.101. stats_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="suffix.html">14.102. suffix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_collide.html">14.103. surf_collide command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_modify.html">14.104. surf_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="surf_react.html">14.105. surf_react command</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestep.html">14.106. timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="uncompute.html">14.107. uncompute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="undump.html">14.108. undump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="unfix.html">14.109. unfix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">14.110. units command</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable.html">14.111. variable command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_grid.html">14.112. write_grid command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_isurf.html">14.113. write_isurf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_restart.html">14.114. write_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_surf.html">14.115. write_surf command</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="commands.html">14. List of Commands</a> &raquo;</li>
        
      <li>14.7. collide_modify command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/collide_modify.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="collide-modify-command">
<span id="command-collide-modify"></span><span id="index-0"></span><h1>14.7. collide_modify command<a class="headerlink" href="#collide-modify-command" title="Permalink to this headline">¶</a></h1>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">collide_modify</span> <span class="n">keyword</span> <span class="n">values</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>one or more keyword/value pairs may be listed</p></li>
<li><p>keywords = <em>vremax</em> or <em>remain</em> or <em>ambipolar</em> or <em>nearcp</em> or
<em>rotate</em> or <em>vibrate</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vremax</span> <span class="n">values</span> <span class="o">=</span> <span class="n">Nevery</span> <span class="n">startflag</span>
  <span class="n">Nevery</span> <span class="o">=</span> <span class="n">zero</span> <span class="n">vremax</span> <span class="n">every</span> <span class="n">this</span> <span class="n">many</span> <span class="n">timesteps</span>
  <span class="n">startflag</span> <span class="o">=</span> <span class="n">yes</span> <span class="ow">or</span> <span class="n">no</span> <span class="o">=</span> <span class="n">zero</span> <span class="n">vremax</span> <span class="n">at</span> <span class="n">start</span> <span class="n">of</span> <span class="n">every</span> <span class="n">run</span>
<span class="n">remain</span> <span class="n">value</span> <span class="o">=</span> <span class="n">yes</span> <span class="ow">or</span> <span class="n">no</span> <span class="o">=</span> <span class="n">hold</span> <span class="n">remaining</span> <span class="n">fraction</span> <span class="n">of</span> <span class="n">collisions</span> <span class="n">over</span> <span class="n">to</span> <span class="nb">next</span> <span class="n">timestep</span>
<span class="n">nearcp</span> <span class="n">values</span> <span class="o">=</span> <span class="n">choice</span> <span class="n">Nlimit</span>
  <span class="n">choice</span> <span class="o">=</span> <span class="n">yes</span> <span class="ow">or</span> <span class="n">no</span> <span class="n">to</span> <span class="n">turn</span> <span class="n">on</span><span class="o">/</span><span class="n">off</span> <span class="n">near</span> <span class="n">collision</span> <span class="n">partners</span>
  <span class="n">Nlimit</span> <span class="o">=</span> <span class="nb">max</span> <span class="c1"># of attempts made to find a collision partner</span>
<span class="n">ambipolar</span> <span class="n">value</span> <span class="o">=</span> <span class="n">no</span> <span class="ow">or</span> <span class="n">yes</span>
<span class="n">rotate</span> <span class="n">value</span> <span class="o">=</span> <span class="n">no</span> <span class="ow">or</span> <span class="n">smooth</span>
<span class="n">vibrate</span> <span class="n">value</span> <span class="o">=</span> <span class="n">no</span> <span class="ow">or</span> <span class="n">smooth</span> <span class="ow">or</span> <span class="n">discrete</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">collide_modify</span> <span class="n">vremax</span> <span class="mi">1000</span> <span class="n">yes</span>
<span class="n">collide_modify</span> <span class="n">vremax</span> <span class="mi">0</span> <span class="n">no</span> <span class="n">remain</span> <span class="n">no</span>
<span class="n">collide_modify</span> <span class="n">ambipolar</span> <span class="n">yes</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Set parameters that affect how collisions are performed.</p>
<p>The <em>vremax</em> keyword affects how often the Vremax parameter, for
collision frequency is re-zeroed during the simulation. This parameter
is stored for each grid cell and each pair of collision groups (groups
are described by the <a class="reference external" href="collide.html">collide</a> command).</p>
<p>The value of Vremax affects how many events are attempted in each grid
cell for a pair of groups, and thus the overall time spent performing
collisions. Vremax is continuously set to the largest difference in
velocity between a pair of colliding particles. The larger Vremax grows,
the more collisions are attempted for the grid cell on each timestep,
though this does not affect the number of collisions actually performed.
Thus if Vremax grows large, collisions become less efficient, though
still accurate.</p>
<p>For non-equilibrium flows, it is typically desirable to reset Vremax to
zero fairly frequently (e.g. every 1000 steps) so that it does not
become large, due to anomolously fast moving particles. In contrast,
when a system is at equilibrium, it is typically desirable to not reset
Vremax to zero since it will also stay roughly constant.</p>
<p>If <em>Nevery</em> is specified as 0, Vremax is not zeroed during a run.
Otherwise Vremax is zeroed on timesteps that are a multiple of <em>Nevery</em>.
Additionally, if <em>startflag</em> is set to <em>yes</em>, Vremax is zeroed at the
start of every run. If it is set to <em>no</em>, it is not.</p>
<p>The <em>remain</em> keyword affects how the number of attempted collisions for
each grid cell is calculated each timestep. If the value is set to
<em>yes</em>, then any fractional collision count (for each grid cell and pair
of grgroups) is carried over to the next timestep. E.g. if the computed
collision count is 7.3, then 7 attempts are made on this timestep, and
0.3 are carried over to the next timestep, to be added to the computed
collision count for that step. If the value is set to <em>no</em>, then no
carry-over is made. Instead, in this example, 7 attempts are made and an
8th attempt is made conditionally with a probability of 0.3, using a
random number.</p>
<p>The <em>nearcp</em> keyword stands for “near collision partner” and affects how
collision partners are selected. If <em>no</em> is specified, which is the
default, then collision partner pairs are selected randomly from all
particles in the grid cell. In this case the <em>Nlimit</em> parameter is
ignored, though it must still be specfied.</p>
<p>If <em>yes</em> is specified, then up to <em>Nlimit</em> collision partners are
considered for each collision. The first partner I is chosen randomly
from all particles in the grid cell. A distance R that particle I moves
in that timestep is calculated, based on its velocity. <em>Nlimit</em> possible
collision partners J are examined, starting at a random J. If one of
them is within a distance R of particle I, it is immediately selected as
the collision partner. If none of the <em>Nlimit</em> particles are within a
distance R, the closest J particle to I is selected. An exception to
these rules is that a particle J is not considered for a collision if
the I,J pair were the most recent collision partners (in the current
timestep) for each other. The convergence properties of this
near-neighbor algorithm are described in <a class="reference internal" href="#gallis11" id="id1"><span>[Gallis11]</span></a>.
Note that choosing <em>Nlimit</em> judiciously will avoid costly searches when
there are large numbers of particles in some or all grid cells.</p>
<p>If the <em>ambipolar</em> keyword is set to <em>yes</em>, then collisions within a
grid cell with use the ambipolar approximation. This requires use of the
<a class="reference external" href="fix_ambipolar.html">fix ambipolar</a> command to define which species
is an electron and which species are ions. There can be many of the
latter. When collisions within a single grid cell are performed, each
ambipolar ion is split into two particles, the ion and an associated
electron. Collisions between the augmented set of particles are
calculated. Ion/electron chemistry can also occur if the
<a class="reference external" href="react.html">react</a> command has been used to read a file of reactions
that include such reactions. See the <a class="reference external" href="react.html">react</a> command doc
page. After all collisions in the grid cell have been computed, there is
still a one-to-one correspondence between ambipolar ions and electron,
and each pair is recombined into a single ambipolar particle.</p>
<p>The <em>rotate</em> keyword determines how rotational energy is treated in
particle collisions and stored by particles. If the value is set to
<em>no</em>, then rotational energy is not tracked; every particle’s rotational
energy is 0.0. If the value is set to <em>smooth</em>, a particle’s rotational
energy is a single continuous value.</p>
<p>The <em>vibrate</em> keyword determines how vibrational energy is treated in
particle collisions and stored by particles. If the value is set to
<em>no</em>, then vibrational energy is not tracked; every particle’s
vibrational energy is 0.0. If the value is set to <em>smooth</em>, a particle’s
vibrational energy is a single continuous value. If the value is set to
<em>discrete</em>, each particle’s vibrational energy is set to discrete
values, namely multiples of kT where k = the Boltzmann constant and T is
one or more characteristic vibrational temperatures set for the particle
species.</p>
<p>Note that in the <em>discrete</em> case, if any species are defined that have
4,6,8 vibrational degrees of freedom, which correspond to 2,3,4
vibrational modes, then the <a class="reference external" href="species.html">species</a> command must be
used with its optional <em>vibfile</em> keyword to set the vibrational info
(temperature, relaxation number, degeneracy) for those species.</p>
<p>Also note that if any such species are defined (with more than one
vibrational mode, then use of the <em>discrete</em> option also requires the
<a class="reference external" href="fix_vibmode.html">fix vibmode</a> command be used to allocate storage
for the per-particle mode values.</p>
<hr class="docutils" />
<p><strong>Restrictions:</strong> none</p>
<p><strong>Related commands:</strong></p>
<p><a class="reference internal" href="collide.html#command-collide"><span class="std std-ref">collide command</span></a></p>
<p><strong>Default:</strong></p>
<p>The option defaults are vremax = (0,yes), remain = yes, ambipolar no,
nearcp no, rotate smooth, and vibrate = no.</p>
<hr class="docutils" />
<dl class="citation">
<dt class="label" id="gallis11"><span class="brackets"><a class="fn-backref" href="#id1">Gallis11</a></span></dt>
<dd><ol class="upperalpha simple" start="13">
<li><ol class="upperalpha simple">
<li><p>Gallis, J. R. Torczynski, “Effect of Collision-Partner Selection Schemes on the Accuracy and Efficiency of the Direct Simulation Monte Carlo Method,” International Journal for Numerical Methods in Fluids, 67(8):1057-1072. DOI:10.1002/fld.2409 (2011).</p></li>
</ol>
</li>
</ol>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="compute.html" class="btn btn-neutral float-right" title="14.8. compute command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collide.html" class="btn btn-neutral float-left" title="14.6. collide command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>