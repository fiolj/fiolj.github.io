

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>surf_react command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>surf_react command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/surf_react.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="surf-react-command">
<span id="command-surf-react"></span><h1>surf_react command<a class="headerlink" href="#surf-react-command" title="Permalink to this headline">¶</a></h1>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surf_react</span> <span class="n">ID</span> <span class="n">style</span> <span class="n">args</span>
</pre></div>
</div>
<ul>
<li><p>ID = user-assigned name for the surface reaction model</p></li>
<li><p>style = <em>global</em> or <em>prob</em></p></li>
<li><p>args = arguments for that style</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">global</span> <span class="n">args</span> <span class="o">=</span> <span class="n">pdelete</span> <span class="n">pcreate</span>
  <span class="n">pdelete</span> <span class="o">=</span> <span class="n">probability</span> <span class="n">that</span> <span class="n">surface</span> <span class="n">collision</span> <span class="n">removes</span> <span class="n">the</span> <span class="n">incident</span> <span class="n">particle</span>
  <span class="n">pcreate</span> <span class="o">=</span> <span class="n">probability</span> <span class="n">that</span> <span class="n">surface</span> <span class="n">collision</span> <span class="n">clones</span> <span class="n">the</span> <span class="n">incident</span> <span class="n">particle</span>
<span class="n">prob</span> <span class="n">args</span> <span class="o">=</span> <span class="n">infile</span>
  <span class="n">infile</span> <span class="o">=</span> <span class="n">file</span> <span class="k">with</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">surface</span> <span class="n">chemistry</span> <span class="n">reactions</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">surf_react</span> <span class="k">global</span> <span class="mf">0.2</span> <span class="mf">0.15</span>
<span class="n">surf_react</span> <span class="n">prob</span> <span class="n">air</span><span class="o">.</span><span class="n">surf</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Define a model for surface chemistry reactions to perform when particles
collide with surface elements or the global boundaries of the simulation
box. One or more models can be defined and assigned to different
surfaces or simulation box boundaries via the
<a class="reference external" href="surf_modify.html">surf_modify</a> or
<a class="reference external" href="bound_modify.html">bound_modify</a> commands. See <a class="reference external" href="Section_howto.html#howto_9">Section
6.9</a> for more details of how SPARTA
defines surfaces as collections of geometric elements, triangles in 3d
and line segments in 2d. Also see the <a class="reference external" href="react.html">react</a> command for
specification of a gas-phase chemistry reaction model.</p>
<p>The ID for a surface reaction model is used to identify it in other
commands. Each surface reaction model ID must be unique. The ID can only
contain alphanumeric characters and underscores.</p>
<p>The surface reaction models for the various styles are described below.
When a a particle collides with a surface element or boundary. the list
of all reactions possible with that species as the reactant is looped
over. A probability for each reaction is calculated, using the formulas
discussed below, and a random number is used to decide which reaction
(if any) takes place. A check is made that the sum of probabilities for
all possible reactions is &lt;= 1.0, which should normally be the case if
reasonable reaction coefficients are defined.</p>
<p>IMPORTANT NOTE: A surface reaction model can not be specified for
surfaces whose surface collision style does not support reactions.
Currently this is only the <em>vanish</em> collision style. See the
<a class="reference external" href="surf_collide.html">surf_collide</a> doc page for details.</p>
<hr class="docutils" />
<p>The <em>global</em> style is a simple model that can be used to test whether
surface reactions are occurring as expected. There is no list of
reactions for different species; all species are treated the same. This
style thus defines two universal reactions, the first for particle
deletion, the second for particle creation.</p>
<p>The <em>global</em> style takes two parameters, <em>pdelete</em> and <em>pcreate</em>. The
first is the probability that a “deletion” reaction takes place when a
collision occurs. If it does, the particle is deleted. The second is the
probablity that a “creation” reaction occurs, which clones the particle,
so that one particle becomes two. The two particles leave the surface
according to whatever surface collision model is defined by the
<a class="reference external" href="surf_collide.html">surf_collide</a> command, and is assigned to that
surface/boundary by the <a class="reference external" href="surf_modify.html">surf_modify collide</a>
command.</p>
<p>The sum of <em>pdelete</em> and <em>pcreate</em> must be &lt;= 1.0.</p>
<p>Note that if you simply wish to delete all particles which hit the
surface, you can use the <a class="reference external" href="surf_collide.html">surf_collide vanish</a>
command, which is simpler.</p>
<hr class="docutils" />
<p>For the <em>prob</em> style, a file is specified which contains a list of
surface chemical reactions, with their associated parameters. The
reactions are read into SPARTA and stored in a list. Each time a
simulation is run via the <a class="reference external" href="run.html">run</a> command, the list is
scanned. Only reactions for which all the reactants and all the products
are currently defined as species-IDs will be active for the simulation.
Thus the file can contain more reactions than are used in a particular
simulation. See the <a class="reference external" href="species.html">species</a> command for how species
IDs are defined. This style thus defines N reactions, where N is the
number of reactions listed in the specified file.</p>
<p>As explained below each reaction has a specified probability between 0.0
and 1.0. That probability is used to choose which reaction (if any) is
performed.</p>
<p>The format of the input surface reaction file is as follows. Comments or
blank lines are allowed in the file. Comment lines start with a “#”
character. All other entries must come in 2-line pairs with values
separated by whitespace in the following format</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span> <span class="o">--&gt;</span> <span class="n">P1</span> <span class="o">+</span> <span class="n">P2</span>
<span class="nb">type</span> <span class="n">style</span> <span class="n">C1</span> <span class="n">C2</span> <span class="o">...</span>
</pre></div>
</div>
<p>The first line is a text-based description of a single reaction. R1 is a
single reactant for the particle that collides with the
surface/boundary, listed as a <a class="reference external" href="species.html">species</a> IDs. P1 and P2
are one or two products, also listed as <a class="reference external" href="species.html">species</a> IDs.
The number of reactants is always 1. The number of allowed products
depends on the reaction type, as discussed below. Individual reactants
and products must be separated by whitespace and a “+” sign. The
left-hand and right-hand sides of the equation must be separated by
whitespace and “–&gt;”.</p>
<p>The <em>type</em> of each reaction is a single character (upper or lower case)
with the following meaning. The type determines how many reactants and
products can be specified in the first line.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="n">dissociation</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">reactant</span> <span class="ow">and</span> <span class="mi">2</span> <span class="n">products</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">exchange</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">reactant</span> <span class="ow">and</span> <span class="mi">1</span> <span class="n">product</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">recombination</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">reactant</span> <span class="ow">and</span> <span class="mi">1</span> <span class="n">product</span> <span class="n">named</span> <span class="n">NULL</span>
</pre></div>
</div>
<p>A dissociation reaction means that R1 dissociates into P1 and P2 when it
collides with the surface/boundary. There is no restriction on the
species involved in the reaction.</p>
<p>An exchange reaction is a collision where R1 becomes a new product P1.
There is no restriction on the species involved in the reaction.</p>
<p>A recombination reaction is a collision where R1 is absorbed by the
surface, so that the particle disappears. There are no products which is
indicated in the file by listing a single product as NULL. There is no
restriction on the species involved in the reaction.</p>
<p>The <em>style</em> of each reaction is a single character (upper or lower case)
with the following meaning:</p>
<ul class="simple">
<li><p>S = Surface</p></li>
</ul>
<p>The style determines how many reaction coefficients are listed as C1,
C2, etc, and how they are interpreted by SPARTA.</p>
<p>For S = Surface style, there is a single coefficient:</p>
<ul class="simple">
<li><p>C1 = probability that the reaction occurs (0.0 to 1.0)</p></li>
</ul>
<hr class="docutils" />
<p>If the ambipolar approximation is being used, via the <a class="reference external" href="fix_ambipolar.hmtl">fix
ambipolar</a> command, then reactions which involve
either ambipolar ions or the ambipolar electron have more restricitve
rules about the ordering of reactants and products, than those described
in the preceeding section for the <em>prob</em> style.</p>
<p>The first is an “exchange” reaction which converts an ambipolar ion into
a neutral species. Internally this removes the ambipolar electron
associated with the ion. In the file of reactions this is done by having
the reactant be an ambipolar ion, and the product not be an ambipolar
ion.</p>
<p>The second is a “dissociation” reaction where a neutral species is
ionized by colliding with the surface/boundary, creating an ambipolar
ion and ambipolar electron. In the file of reactions this is done by
having the reactant not be an ambipolar ion, the first product be an
ambipolar ion, and the second product be an ambipolar electron. The two
products must be specified in this order.</p>
<hr class="docutils" />
<p><strong>Output info:</strong></p>
<p>All the surface reaction models calculate a global vector of values. The
values can be used by the <a class="reference external" href="stats_style.html">stats_style</a> command and
by <a class="reference external" href="variable.html">variables</a> that define formulas. The latter means
they can be used by any command that uses a variable as input, e.g. “the
<a class="reference external" href="fix_ave_time.html">fix ave/time</a> command. See <a class="reference external" href="Section_howto.html#howto_4">Section
4.4</a> for an overview of SPARTA output
options.</p>
<p>The <em>global</em> and <em>prob</em> styles each compute a vector of length 2 +
2*nlist. For the <em>global</em> style, nlist = 2, for “delete” and “create”
reactions. For the <em>prob</em> style, nlist is the number of reactions listed
in the file is read as input.</p>
<p>The first element of the vector is the count of particles that performed
surface reactions for surface elements assigned to this reaction model
during the current timestep. The second element is the cummulative count
of particles that have performed reactions since the beginning of the
current run. The next nlist elements are the count of each individual
reaction that occurred during the current timestep. The final nlist
elements are the cummulative count of each individual reaction since the
beginning of the current run.</p>
<hr class="docutils" />
<p><strong>Restrictions:</strong> none</p>
<p><strong>Related commands:</strong></p>
<p><a class="reference internal" href="react.html#command-react"><span class="std std-ref">react command</span></a>
<a class="reference internal" href="surf_modify.html#command-surf-modify"><span class="std std-ref">surf_modify command</span></a>
<a class="reference internal" href="bound_modify.html#command-bound-modify"><span class="std std-ref">bound_modify command</span></a></p>
<p><strong>Default:</strong> none</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, JF

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>