

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>move_surf command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020  (build: 12/07/2020)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
  <a href= "genindex.html">Index</a>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>move_surf command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/move_surf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="move-surf-command">
<span id="command-move-surf"></span><span id="index-0"></span><h1>move_surf command<a class="headerlink" href="#move-surf-command" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="syntax">
<h1>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">move_surf</span> <span class="n">groupID</span> <span class="n">style</span> <span class="n">args</span> <span class="o">...</span> <span class="n">keyword</span> <span class="n">value</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>group-ID = group ID for which surface elements to move</p></li>
<li><p>style = <em>file</em> or <em>trans</em> or <em>rotate</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file</span> <span class="n">args</span> <span class="o">=</span> <span class="n">filename</span> <span class="n">entry</span>
<span class="n">trans</span> <span class="n">args</span> <span class="o">=</span> <span class="n">Dx</span> <span class="n">Dy</span> <span class="n">Dz</span>
  <span class="n">Dx</span><span class="p">,</span><span class="n">Dy</span><span class="p">,</span><span class="n">Dz</span> <span class="o">=</span> <span class="n">displacement</span> <span class="n">applied</span> <span class="n">to</span> <span class="nb">all</span> <span class="n">surface</span> <span class="n">points</span> <span class="p">(</span><span class="n">distance</span> <span class="n">units</span><span class="p">)</span>
<span class="n">rotate</span> <span class="n">args</span> <span class="o">=</span> <span class="n">theta</span> <span class="n">Rx</span> <span class="n">Ry</span> <span class="n">Rz</span> <span class="n">Ox</span> <span class="n">Oy</span> <span class="n">Oz</span>
  <span class="n">theta</span> <span class="o">=</span> <span class="n">rotate</span> <span class="n">surface</span> <span class="n">points</span> <span class="n">by</span> <span class="n">this</span> <span class="n">angle</span> <span class="ow">in</span> <span class="n">counter</span><span class="o">-</span><span class="n">clockwise</span> <span class="n">direction</span> <span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
  <span class="n">Rx</span><span class="p">,</span><span class="n">Ry</span><span class="p">,</span><span class="n">Rz</span> <span class="o">=</span> <span class="n">rotate</span> <span class="n">around</span> <span class="n">vector</span> <span class="n">starting</span> <span class="n">at</span> <span class="n">origin</span> <span class="n">pointing</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">direction</span>
  <span class="n">Ox</span><span class="p">,</span><span class="n">Oy</span><span class="p">,</span><span class="n">Oz</span> <span class="o">=</span> <span class="n">origin</span> <span class="n">to</span> <span class="n">rotate</span> <span class="n">around</span> <span class="p">(</span><span class="n">distance</span> <span class="n">units</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>zero or more keyword/value pairs may be appended</p></li>
<li><p>keyword = <em>connect</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connect</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">yes</span> <span class="ow">or</span> <span class="n">no</span>
</pre></div>
</div>
</li>
</ul>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">move_surf</span> <span class="nb">all</span> <span class="n">trans</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">move_surf</span> <span class="n">partial</span> <span class="n">rotate</span> <span class="mi">360</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">5</span> <span class="mi">5</span> <span class="mi">0</span> <span class="n">connect</span> <span class="n">yes</span>
<span class="n">move_surf</span> <span class="n">object2</span> <span class="n">rotate</span> <span class="mi">360</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">5</span> <span class="mi">5</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description:<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This command performs a one-time movement of all the surface elements in the specified group via the specified style. See the <a class="reference internal" href="group.html#command-group"><span class="std std-ref">group surf</span></a> command for info on how surface elements can be assigned to surface groups.</p>
<p>This command can be invoked as many times as desired, before or between simulation runs. Surface points can also be moved on-the-fly during a simulation by using the <a class="reference internal" href="fix_move_surf.html#command-fix-move-surf"><span class="std std-ref">fix move/surf command</span></a>.</p>
<p>Moving surfaces between simulations can be useful if you want to perform a series of runs from one input script, where some attribute of the surface elements change, e.g. the separation between two spheres.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <em>file</em> style is not yet implemented.
It will allow new positions of points to be listed in a file.</p>
</div>
<p>In 2d, surface elements are line segments with 2 vertices each. In 3d,
surface elements are triangles with 3 vertices each. If a line segment
or triangle belongs to the specified group, all of its vertices are
moved. This effectively moves the entire surface element.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Unless a vertex is on the simulation box boundary, it will be part of two surface elements (in 2d) or multiple surface elements (in 3d).
If you choose a surface groupID which does not include all the elements in a gridded object, then you cannot move them without breaking apart the object in a “watertight” sense (so that particles could erroneously move inside the object).
To prevent this use the optional <em>connect</em> keyword with its <em>yes</em> setting. This will insure that multiple copies of the same vertex in other elements (not in the surface group) will also be moved. This is a way to morph the shape of a gridded object, e.g. make a sphere more oblate, by moving only a portion of its elements.</p>
</div>
<p>The <em>trans</em> style shifts or displaces each vertex by the vector (Dx,Dy,Dz).</p>
<p>The <em>rotate</em> style rotates the coordinates of all vertices by an angle <em>theta</em> in a counter-clockwise direction, around the vector starting at (Ox,Oy,Oz) and pointing in the direction <em>Rx,Ry,Rz</em>. Any desired rotation can be represented by an appropriate choice of (Ox,Oy,Oz), <em>theta</em>, and (Rx,Ry,Rz).</p>
<p>After the surface has been moved, then all particles in grid cells that meet either of these criteria are deleted:</p>
<ul class="simple">
<li><p>the grid cell is now inside a surface</p></li>
<li><p>the grid cell overlaps with a surface element that moved</p></li>
</ul>
<p>This is to prevent particles from ending up inside surface objects.</p>
<p>Note that in this context, “overlaps” means that any part of the surface element touches any part of the grid cell, including its surface. Also note that if a surface element object (e.g. a sphere) moved a long distance then grid cells that were inside the object in its old position and thus contained no particles, will still have no particles immediately after the move. This will effectively leave a “void” in the flow until particles re-fill the grid cells that are now outside the object.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions:<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<p>An error will be generated if any surface element vertex is moved
outside the simulation box.</p>
</div>
<div class="section" id="related-commands">
<h2>Related commands:<a class="headerlink" href="#related-commands" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="read_surf.html#command-read-surf"><span class="std std-ref">read_surf command</span></a>,
<a class="reference internal" href="fix_move_surf.html#command-fix-move-surf"><span class="std std-ref">fix move/surf command</span></a>
<a class="reference internal" href="remove_surf.html#command-remove-surf"><span class="std std-ref">remove_surf command</span></a></p>
</div>
<div class="section" id="default">
<h2>Default:<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<p>The option default is connect = no.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>