

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>jump command &mdash; SPARTA 6 Jul 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygm_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                6 Jul 2020  (build: 23/07/2020)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
  <a href= "genindex.html">Index</a>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>jump command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/jump.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="jump-command">
<span id="command-jump"></span><span id="index-0"></span><h1>jump command<a class="headerlink" href="#jump-command" title="Permalink to this headline">¶</a></h1>
<div class="section" id="syntax">
<h2>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">jump</span> <span class="no">file label</span>
</pre></div>
</div>
<ul class="simple">
<li><p>file = filename of new input script to switch to</p></li>
<li><p>label = optional label within file to jump to</p></li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">jump</span> <span class="no">newfile</span>
<span class="nb">jump</span> <span class="no">in.run2 runloop</span>
<span class="nb">jump</span> <span class="no">SELF runloop</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description:<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This command closes the current input script file, opens the file with
the specified name, and begins reading SPARTA commands from that file.
Unlike the <a class="reference internal" href="include.html#command-include"><span class="std std-ref">include</span></a> command, the original file is not
returned to, although by using multiple jump commands it is possible to
chain from file to file or back to the original file.</p>
<p>If the word “SELF” is used for the filename, then the current input
script is re-opened and read again.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The SELF option is not guaranteed to work when the current input script is being read through stdin (standard input), e.g.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span>spa_g++ &lt; in.script
</pre></div>
</div>
<p>since the SELF option invokes the C-library rewind() call, which may not be supported for stdin on some systems or by some MPI implementations.
This can be worked around by using the <a class="reference internal" href="Section_start.html#start-command-line-options"><span class="std std-ref">-in command-line argument</span></a>, e.g.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span>spa_g++ -in in.script
</pre></div>
</div>
<p>or by using the <a class="reference internal" href="Section_start.html#start-command-line-options"><span class="std std-ref">-var command-line argument</span></a> to pass the script name as a variable to the input script. In the latter case, a <a class="reference internal" href="variable.html#command-variable"><span class="std std-ref">variable</span></a> called “fname” could be used in place of SELF, e.g.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span>spa_g++ -var fname in.script &lt; in.script
</pre></div>
</div>
</div>
<p>The 2nd argument to the jump command is optional. If specified, it is
treated as a label and the new file is scanned (without executing
commands) until the label is found, and commands are executed from that
point forward. This can be used to loop over a portion of the input
script, as in this example. These commands perform 10 runs, each of
10000 steps, and create 10 dump files named file.1, file.2, etc. The
<a class="reference internal" href="next.html#command-next"><span class="std std-ref">next</span></a> command is used to exit the loop after 10
iterations. When the “a” variable has been incremented for the tenth
time, it will cause the next jump command to be skipped.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">variable</span> <span class="no">a loop 10</span>
<span class="nb">label</span> <span class="no">loop</span>
<span class="nb">dump</span> <span class="no">1 grid all 100 file.$a</span>
<span class="nb">run</span> <span class="no">10000</span>
<span class="nb">undump</span> <span class="no">1</span>
<span class="nb">next</span> <span class="no">a</span>
<span class="nb">jump</span> <span class="no">in.flow loop</span>
</pre></div>
</div>
<p>If the jump <em>file</em> argument is a variable, the jump command can be used
to cause different processor partitions to run different input scripts.
In this example, SPARTA is run on 40 processors, with 4 partitions of 10
procs each. An in.file containing the example variable and jump command
will cause each partition to run a different simulation.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">mpirun</span> <span class="no">-np 40 lmp_ibm -partition 4x10 -in in.file</span>
</pre></div>
</div>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">variable</span> <span class="no">f world script.1 script.2 script.3 script.4</span>
<span class="nb">jump</span> <span class="no">$f</span>
</pre></div>
</div>
<p>Here is an example of a double loop which uses the <a class="reference internal" href="if.html#command-if"><span class="std std-ref">if</span></a> and
jump commands to break out of the inner loop when a condition is met,
then continues iterating thru the outer loop.</p>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">label</span>      <span class="no">loopa</span>
<span class="nb">variable</span>    <span class="no">a loop 5</span>
  <span class="nb">label</span>     <span class="no">loopb</span>
  <span class="nb">variable</span>  <span class="no">b loop 5</span>
  <span class="nb">print</span>     <span class="no">&quot;A,B = $a,$b&quot;</span>
  <span class="nb">run</span>       <span class="no">10000</span>
  <span class="nb">if</span>        <span class="no">$b &gt; 2 then &quot;jump in.script break&quot;</span>
  <span class="nb">next</span>      <span class="no">b</span>
  <span class="nb">jump</span>      <span class="no">in.script loopb</span>
<span class="nb">label</span>       <span class="no">break</span>
<span class="nb">variable</span>    <span class="no">b delete</span>
</pre></div>
</div>
<div class="highlight-xorg.conf notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span>       <span class="no">a</span>
<span class="nb">jump</span>        <span class="no">in.script loopa</span>
</pre></div>
</div>
</div>
<div class="section" id="restrictions">
<h2>Restrictions:<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<p>If you jump to a file and it does not contain the specified label,
SPARTA will come to the end of the file and exit.</p>
</div>
<div class="section" id="related-commands">
<h2>Related commands:<a class="headerlink" href="#related-commands" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="variable.html#command-variable"><span class="std std-ref">variable command</span></a>,
<a class="reference internal" href="include.html#command-include"><span class="std std-ref">include command</span></a>,
<a class="reference internal" href="label.html#command-label"><span class="std std-ref">label command</span></a>,
<a class="reference internal" href="next.html#command-next"><span class="std std-ref">next command</span></a></p>
</div>
<div class="section" id="default">
<h2>Default:<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>