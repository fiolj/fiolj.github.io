

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mixture command &mdash; SPARTA 7 May 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                7 May 2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>mixture command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mixture.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mixture-command">
<span id="command-mixture"></span><h1>mixture command<a class="headerlink" href="#mixture-command" title="Permalink to this headline">¶</a></h1>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mixture</span> <span class="n">ID</span> <span class="n">species1</span> <span class="n">species2</span> <span class="o">...</span> <span class="n">keyword</span> <span class="n">args</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>ID = user-defined name of the mixture</p></li>
<li><p>species1, species2, … = zero or more species IDs to include in the
mixture</p></li>
<li><p>zero or more keyword/arg pairs may be appended</p></li>
<li><p>keyword = <em>nrho</em> or <em>vstream</em> or <em>temp</em> or <em>frac</em> or <em>group</em> or
<em>copy</em> or <em>delete</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nrho</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">density</span>
  <span class="n">density</span> <span class="o">=</span> <span class="n">number</span> <span class="n">density</span> <span class="n">of</span> <span class="n">entire</span> <span class="n">mixture</span> <span class="p">(</span><span class="c1"># per length^3 units)</span>
<span class="n">vstream</span> <span class="n">args</span> <span class="o">=</span> <span class="n">Vx</span> <span class="n">Vy</span> <span class="n">Vz</span>
  <span class="n">Vx</span><span class="p">,</span><span class="n">Vy</span><span class="p">,</span><span class="n">Vz</span> <span class="o">=</span> <span class="n">streaming</span> <span class="n">velocity</span> <span class="n">of</span> <span class="n">entire</span> <span class="n">mixture</span> <span class="p">(</span><span class="n">velocity</span> <span class="n">units</span><span class="p">)</span>
<span class="n">temp</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">thermal</span>
  <span class="n">thermal</span> <span class="o">=</span> <span class="n">temperature</span> <span class="n">of</span> <span class="n">entire</span> <span class="n">mixture</span> <span class="p">(</span><span class="n">temperature</span> <span class="n">units</span><span class="p">)</span>
<span class="n">trot</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">Trot</span>
  <span class="n">Trot</span> <span class="o">=</span> <span class="n">rotational</span> <span class="n">temperature</span> <span class="n">of</span> <span class="n">entire</span> <span class="n">mixture</span> <span class="p">(</span><span class="n">temperature</span> <span class="n">units</span><span class="p">)</span>
<span class="n">tvib</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">Tvib</span>
  <span class="n">Tvib</span> <span class="o">=</span> <span class="n">vibrational</span> <span class="n">temperature</span> <span class="n">of</span> <span class="n">entire</span> <span class="n">mixture</span> <span class="p">(</span><span class="n">temperature</span> <span class="n">units</span><span class="p">)</span>
<span class="n">frac</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">fraction</span>
  <span class="n">fraction</span> <span class="o">=</span> <span class="n">number</span> <span class="n">fraction</span> <span class="k">for</span> <span class="n">each</span> <span class="n">listed</span> <span class="n">species</span> <span class="p">(</span><span class="mi">0</span> <span class="n">to</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">group</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">SELF</span> <span class="ow">or</span> <span class="n">group</span><span class="o">-</span><span class="n">ID</span>
  <span class="n">SELF</span> <span class="o">=</span> <span class="n">put</span> <span class="n">each</span> <span class="n">listed</span> <span class="n">species</span> <span class="p">(</span><span class="ow">or</span> <span class="nb">all</span> <span class="n">species</span> <span class="k">if</span> <span class="n">none</span> <span class="n">listed</span><span class="p">)</span> <span class="ow">in</span> <span class="n">its</span> <span class="n">own</span> <span class="n">group</span>
  <span class="n">group</span><span class="o">-</span><span class="n">ID</span> <span class="o">=</span> <span class="n">put</span> <span class="n">the</span> <span class="n">listed</span> <span class="n">species</span> <span class="p">(</span><span class="ow">or</span> <span class="nb">all</span> <span class="n">species</span> <span class="k">if</span> <span class="n">none</span> <span class="n">listed</span><span class="p">)</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">group</span> <span class="k">with</span> <span class="n">this</span> <span class="n">ID</span>
<span class="n">copy</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">new</span><span class="o">-</span><span class="n">ID</span>
  <span class="n">new</span><span class="o">-</span><span class="n">ID</span> <span class="o">=</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">new</span> <span class="n">mixture</span> <span class="n">to</span> <span class="n">create</span><span class="p">,</span> <span class="k">as</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">this</span> <span class="n">one</span>
<span class="n">delete</span> <span class="n">args</span> <span class="o">=</span> <span class="n">sp1</span> <span class="n">sp2</span> <span class="o">...</span>
  <span class="n">sp1</span><span class="p">,</span><span class="n">sp2</span><span class="p">,</span><span class="o">...</span> <span class="o">=</span> <span class="n">species</span> <span class="n">to</span> <span class="n">delete</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">mixture</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mixture</span> <span class="n">air</span> <span class="n">N</span> <span class="n">O</span> <span class="n">NO</span> <span class="n">group</span> <span class="n">lite</span>
<span class="n">mixture</span> <span class="n">air</span> <span class="n">N</span> <span class="n">O</span> <span class="n">NO</span> <span class="n">vstream</span> <span class="mf">250.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="n">group</span> <span class="n">species</span>
<span class="n">mixture</span> <span class="n">air</span> <span class="n">N</span> <span class="n">frac</span> <span class="mf">0.8</span>
<span class="n">mixture</span> <span class="n">air</span> <span class="n">O</span> <span class="n">frac</span> <span class="mf">0.2</span> <span class="n">copy</span> <span class="n">myAir</span>
<span class="n">mixture</span> <span class="n">background</span> <span class="n">N</span> <span class="n">O</span>
<span class="n">mixture</span> <span class="n">air</span> <span class="n">delete</span> <span class="n">N</span> <span class="n">NO</span>
</pre></div>
</div>
<p><strong>Description:</strong></p>
<p>Define a gas mixture and its properties. A mixture can be referenced by
its ID in several other SPARTA commands such as
<a class="reference external" href="create_particles.html">create_particles</a> or <a class="reference external" href="compute.html">per-grid
computes</a>. Any number of mixtures can be defined and
used in a simulation.</p>
<p>A mixture is a collection of one or more particle species as defined by
the <a class="reference external" href="species.html">species</a> command. Each species belongs to a named
group within the mixture so that particles of all species in the group
can be acted on together by other commands. The mixture has both global
attributes and per-species attributes. All attributes have default
values unless they are explicitly specified.</p>
<p>The ID for a mixture is used to identify the mixture in other commands.
Each mixture ID must be unique. The ID can only contain alphanumeric
characters and underscores.</p>
<p>Note that the mixture command can be used multiple times with the same
ID, to add species to the mixture, define groups within the mixture, or
change its attributes. Also note that a species can belong to more than
one mixture.</p>
<p>There are 2 default mixtures defined by SPARTA that always exist.</p>
<p>The first default mixture has an ID = “all”, and contains all species
that have been defined. When new species are created via the “species”
command, they are automatically added to this mixture. This mixture has
only a single group, also named “all”, which all species belong to.</p>
<p>The second default mixture has an ID = “species”, and also contains all
species that have been defined. When new species are created via the
“species” command, they are also automatically added to this mixture.
This mixture defines one group per species, each with the species name,
so that each species in the mixture belongs to its own group.</p>
<hr class="docutils" />
<p>Zero or more species can be specified in the mixture command. If a
listed species is not already in the mixture, due to a previous mixture
command with the same ID, then that species is added to the mixture. As
discussed below, it will be assigned to a default group and assigned
default per-species attributes, unless the appropriate keywords are also
specified.</p>
<p>Species can be specified which are already part of the mixture, to
change their group assignment or their per-species proerties, as
disussed below.</p>
<p>Zero species can be specified, if other keywords are used which alter
group assignments or change global attributes of the mixture, as
discussed below.</p>
<hr class="docutils" />
<p>These keywords set global attributes of the mixture.</p>
<p>The <em>nrho</em> keyword sets a global attribute of the mixture, namely its
density. For 3d simulations the units of the specified <em>density</em> are
#/volume. For 2d, the units are effectively #/area, since the
z-dimension thickness of the simulation box = 1.0.</p>
<p>The <em>vstream</em> keyword sets a global attribute of the mixture, namely the
streaming velocity. Particles created using the mixture will use the
specified <em>Vx,Vy,Vz</em> values.</p>
<p>The <em>temp</em> keyword sets a global attribute of the mixture, namely the
thermal temperature of its particles. When particles are created, this
value is used to sample a Gaussian velocity distribution, which is
superposed on the streaming velocity, when each particle’s velocity is
initialized.</p>
<p>The <em>trot</em> keyword sets a global attribute of the mixture, namely the
rotational temperature of its particles. When particles are created,
this value is used to sample a Gaussian energy distribution to define
each particle’s rotational energy. If this keyword is not specified, the
thermal temperature is used as the default.</p>
<p>The <em>tvig</em> keyword sets a global attribute of the mixture, namely the
vibrational temperature of its particles. When particles are created,
this value is used to sample a Gaussian energy distribution to define
each particle’s vibrational energy. If this keyword is not specified,
the thermal temperature is used as the default.</p>
<hr class="docutils" />
<p>This keyword sets per-species attributes of the mixture.</p>
<p>The <em>frac</em> keyword sets a per-species attribute for individual species
in the mixture. Each species has a relative fractional density, such as
0.2, meaning one out of 5 particles is that species. The sum of this
value across all species in the mixture must equal 1.0. The <em>frac</em>
keyword sets this value for the listed species. If this value has never
been set for M species out of the total N species in the mixture, then
when a simulation is run, the <em>frac</em> value for each of the M species is
set to (1 - sum)/M, where sum is the sum of the <em>frac</em> values for the
N-M assigned species.</p>
<hr class="docutils" />
<p>Each species in a mixture is assigned to exactly one group. The <em>group</em>
keyword can be used to set or change these assignments. Every mixture
has one or more named groups.</p>
<p>As described by the <a class="reference external" href="collide.html">collide</a> command, mixture groups
are used when performing collisions so that collisions attempts,
partners, and parameters can be treated on a per-group basis for
accuracy and efficiency. <a class="reference external" href="compute.html">Per-grid computes</a> also use
mixture groups to calculate per-grid quantities on a per-grid-cell,
per-group basis, i.e. on subsets of particles within each grid cell.</p>
<p>If the <em>group</em> keyword is not used in a mixture command, no changes to
group assignements are made for species that are already in the mixture.
If one or more new species are specified, then all of them are assigned
to a group with “default” as the group ID. Note that this means that
mixtures defined with mixture commands that never use the <em>group</em>
keyword will have just a single group.</p>
<p>If the <em>group</em> keyword is used, the group ID can be any string you
choose. Similar to the mixture ID, it can only contain alphanumeric
characters and underscores. Using SELF for the group ID has a special
meaning as discussed below.</p>
<p>The operation of the <em>group</em> keyword depends on whether no species or
some species are specified explicitly in the mixture command. It also
depends on whether the group ID is SELF or a user-defined name. In each
case, after the operation is done, any group IDs for the mixture that
have no species assigned to them are deleted. This includes the
“default” group if it was implicitly created by a previous mixture
command.</p>
<ul class="simple">
<li><p>If no species are listed in the mixture command and the group ID is
SELF, then every species already in the mixture is assigned to a
group with its species ID as the group ID. I.e. there will now be one
species per group.</p></li>
<li><p>If one or more species are listed and the group ID is SELF, then each
listed species is assigned to a group with its species ID as the
group ID.</p></li>
<li><p>If no species are listed and the group ID is not SELF, then all
species already in the mixture are assigned to a group with the
specified ID.</p></li>
<li><p>If one or more species are listed and the group ID is not SELF, then
the listed species are all assigned to a group with the specified ID.</p></li>
</ul>
<hr class="docutils" />
<p>These keywords operate on one or more mixtures.</p>
<p>The <em>copy</em> keyword creates a new mixture with <em>new-ID</em> which is an
identical copy of the mixture with <em>ID</em>. Regardless of where the <em>copy</em>
keyword appears in the command, the operation is delayed until all other
keywords have been invoked.</p>
<p>This is useful if you wish to create a new mixture which is nearly the
same as the current mixture. Subsequent mixture commands can be used to
change the properties of the new mixture.</p>
<p>The <em>delete</em> keyword removes one or more species from the mixture,
specified as <em>sp1</em>, <em>sp2</em>, etc. No other keywords can be used with
<em>delete</em>. All arguments that follow it are assumed to be species IDs
that are currently in the mixture. When using <em>delete</em>, no species can
be defined before the keyword, i.e. <em>species1</em>, <em>species2</em>, etc cannot
be defined in the comand syntax described above.</p>
<p>After the listed species are removed, any group IDs for the mixture that
have no species assigned to them are also deleted.</p>
<hr class="docutils" />
<p><strong>Restrictions:</strong></p>
<p>The streaming velocity and thermal temperature of the mixture cannot
both be zero. A zero streaming velocity means a zero vector = (0,0,0).</p>
<p>The restrictions on use of the <em>delete</em> keyword are described above.</p>
<p><strong>Related commands:</strong></p>
<p><a class="reference internal" href="global.html#command-global"><span class="std std-ref">global command</span></a>,
<a class="reference internal" href="create_particles.html#command-create-particles"><span class="std std-ref">create_particles command</span></a></p>
<p><strong>Default:</strong></p>
<p>The <em>nrho</em>, <em>vstream</em>, and <em>temp</em> defaults are those defined for the
background gas density, as set by the <a class="reference external" href="global.html">global</a> command.
The <em>trot</em> and <em>tvib</em> defaults are to use the thermal temperature
<em>temp</em>, either its default or the value specified by this command. The
<em>frac</em> default is described above. The <em>group</em> keyword has no default;
if it is not used, new species not already in the mixture are assigned
to a group with a group ID = “default”.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, JF

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>