

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fix ambipolar command &mdash; SPARTA 6 Jul 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SPARTA
          

          
          </a>

          
            
            
              <div class="version">
                6 Jul 2020  (build: 13/07/2020)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating SPARTA performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to SPARTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

            
          
  <a href= "genindex.html">Index</a>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPARTA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>fix ambipolar command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fix_ambipolar.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fix-ambipolar-command">
<span id="command-fix-ambipolar"></span><span id="index-0"></span><h1>fix ambipolar command<a class="headerlink" href="#fix-ambipolar-command" title="Permalink to this headline">¶</a></h1>
<div class="section" id="syntax">
<h2>Syntax:<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="n">ID</span> <span class="n">ambipolar</span> <span class="n">especies</span> <span class="n">ion1</span> <span class="n">ion2</span> <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ID is documented in <a class="reference internal" href="fix.html#command-fix"><span class="std std-ref">fix</span></a> command</p></li>
<li><p>ambipolar = style name of this fix command</p></li>
<li><p>especies = species ID for ambipolar electrons</p></li>
<li><p>ion1,ion2,… = species IDs for one or more ambipolar ions</p></li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="mi">1</span> <span class="n">ambipolar</span> <span class="n">e</span> <span class="n">N</span><span class="o">+</span> <span class="n">O</span><span class="o">+</span> <span class="n">NO</span><span class="o">+</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description:<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Enable the ambipolar approximation to be used in a simulation. The
ambipolar approximation is a computationally efficient way to model
low-density plasmas which contain positively-charged ions and
negatively-charged electrons. In this model, electrons are not free
particles which move independently. This would require a simulation with
a very small timestep due to electon’s small mass and high speed (1000x
that of an ion or neutral particle).</p>
<p>Instead each ambipolar electron is assumed to stay “close” to its parent
ion, so that the plasma gas appears macroscopically neutral. Each pair
of particles thus moves together through the simulation domain, as if
they were a single particle, which is how they are stored within SPARTA.
This means a normal timestep can be used.</p>
<p>An overview of how to run simulations with the ambipolar approximation
is given in the <a class="reference internal" href="Section_howto.html#howto-ambipolar"><span class="std std-ref">Section 6.11</span></a>. This
includes gas-phase collisions and chemistry as well as surface chemistry
when particles collide with surface elements or the global boundary of
the simulation box. The section also lists all the commands that can be
used in an input script to invoke various options associated with the
ambipolar approximation. All of them depend on this fix ambipolar
command being defined.</p>
<p>This command defines <em>especies</em> which is the species ID associated with
the ambipolar electrons. It also specifies one or more species IDs as
<em>ion1</em>, <em>ion2</em>, etc for ambipolar ions. SPARTA checks that the especies
has a negative charge (as read in by the <a class="reference internal" href="species.html#command-species"><span class="std std-ref">species</span></a>
command), and the ions have positive charges. An error is flagged if
that is not the case.</p>
<p>Internally, this fix defines two custom particle attributes. The first
is named “ionambi” and is an integer vector (one integer per particle).
It stores a value of 1 for ambipolar ions, or 0 otherwise. The second is
named “velambi” and is a floating-point arrays (3 values per particle).
It stores the velocity of the ambipolar electron associated with the
ambipolar ion, or zeroes otherwise.</p>
<hr class="docutils" />
<p><strong>Restart, output info:</strong></p>
<p>No information about this fix is written to <a class="reference internal" href="restart.html#command-restart"><span class="std std-ref">binary restart files</span></a>.</p>
<p>However, the values of the two custom particle attributes defined by
this fix are written to the restart file. Namely the integer value
“ionambi” and floating-point velocity values “velambi” for each
particle. As explained on the <a class="reference internal" href="read_restart.html#command-read-restart"><span class="std std-ref">read_restart</span></a> doc
page these values can be re-assigned to particles when a restart file is
read, if a new fix ambipolar command is specified in the restart script
before the first <a class="reference internal" href="run.html#command-run"><span class="std std-ref">run</span></a> command is used.</p>
<p>No global or per-particle or per-grid quantities are stored by this fix
for access by various output commands.</p>
<p>However, the two custom particle attributes defined by this fix can be
accessed by the <a class="reference internal" href="dump.html#command-dump"><span class="std std-ref">dump particle</span></a> command, as p_ionambi and
p_velambi. That means those per-particle values can be written to
particle dump files.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions:<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
<div class="section" id="related-commands">
<h2>Related commands:<a class="headerlink" href="#related-commands" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="collide_modify.html#command-collide-modify"><span class="std std-ref">collide_modify ambipolar yes</span></a></p>
</div>
<div class="section" id="default">
<h2>Default:<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>none</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>